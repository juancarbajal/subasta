(function(b){String.prototype.trim=function(){a=this.replace(/^\s+/,"");return a.replace(/\s+$/,"")};String.prototype.ltrim=function(){return this.replace(/^\s+/,"")};String.prototype.rtrim=function(){return this.replace(/\s+$/,"")};String.prototype.fulltrim=function(){return this.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")};String.prototype.getWords=function(){return(this.trim())?this.trim().split(/[\s\+\,\-\_\|\.\?]+/):[]};b.fn.extend({wordCount:function(c){if(this&&this.length){var d=b.data(this[0],"WCounts");if(d){return d}}return this.each(function(){var e=new b.WCounts(this,c);b.data(this,"WCounts",e)})}});b.WCounts=function(d,c){this.s=b.extend(true,{},b.WCounts.defaults,c);this.inputbox=d;this.total_words=0;this.init()};b.extend(b.WCounts,{defaults:{counterElement:"display_count",minWords:1,maxWords:9,onOverflow:false,onRegular:false},prototype:{setSettings:function(c){this.s=b.extend(this.s,c);this.chekStatus()},init:function(){var c=this;b(this.inputbox).bind("keypress.wcount, keyup.wcount, blur.wcount",function(d){c.chekStatus()});this.putTextCount()},isInValid:function(){return(this.inputbox.value.getWords().length>this.s.maxWords)},chekStatus:function(){if(this.isInValid()){this.s.onOverflow&&this.s.onOverflow.apply(this,[this.inputbox])}else{this.s.onRegular&&this.s.onRegular.apply(this,[this.inputbox])}this.putTextCount()},putTextCount:function(){var c=this.s.maxWords-this.inputbox.value.getWords().length;if(c==-1){return false}else{b("#"+this.s.counterElement).html(c)}}}})})(jQuery);