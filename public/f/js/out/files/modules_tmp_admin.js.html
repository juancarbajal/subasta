<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>modules&#x2F;tmp&#x2F;admin.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/admin.html">admin</a></li>
            
                <li><a href="..&#x2F;classes/all-modules.html">all-modules</a></li>
            
                <li><a href="..&#x2F;classes/default.html">default</a></li>
            
                <li><a href="..&#x2F;classes/jcarousel.html">jcarousel</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.AutoSave.html">tinymce.plugins.AutoSave</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.ContextMenu.html">tinymce.plugins.ContextMenu</a></li>
            
                <li><a href="..&#x2F;classes/usuario.html">usuario</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/ad-actions.html">ad-actions</a></li>
            
                <li><a href="..&#x2F;modules/add-class-middle.html">add-class-middle</a></li>
            
                <li><a href="..&#x2F;modules/add-favorites.html">add-favorites</a></li>
            
                <li><a href="..&#x2F;modules/all-checked-uncheked.html">all-checked-uncheked</a></li>
            
                <li><a href="..&#x2F;modules/banner-top classified.html">banner-top classified</a></li>
            
                <li><a href="..&#x2F;modules/carousel-products.html">carousel-products</a></li>
            
                <li><a href="..&#x2F;modules/count-word.html">count-word</a></li>
            
                <li><a href="..&#x2F;modules/data-ubigeo.html">data-ubigeo</a></li>
            
                <li><a href="..&#x2F;modules/geotags.html">geotags</a></li>
            
                <li><a href="..&#x2F;modules/impress-ad-list.html">impress-ad-list</a></li>
            
                <li><a href="..&#x2F;modules/lightbox-logIn-signUp.html">lightbox-logIn-signUp</a></li>
            
                <li><a href="..&#x2F;modules/moduleName.html">moduleName</a></li>
            
                <li><a href="..&#x2F;modules/placeholder.html">placeholder</a></li>
            
                <li><a href="..&#x2F;modules/preview-impress.html">preview-impress</a></li>
            
                <li><a href="..&#x2F;modules/register-category.html">register-category</a></li>
            
                <li><a href="..&#x2F;modules/remove-class-home.html">remove-class-home</a></li>
            
                <li><a href="..&#x2F;modules/report-ad.html">report-ad</a></li>
            
                <li><a href="..&#x2F;modules/scrollTop.html">scrollTop</a></li>
            
                <li><a href="..&#x2F;modules/search-categories.html">search-categories</a></li>
            
                <li><a href="..&#x2F;modules/send-ad-friend.html">send-ad-friend</a></li>
            
                <li><a href="..&#x2F;modules/send-list-ad-email.html">send-list-ad-email</a></li>
            
                <li><a href="..&#x2F;modules/show-advanced-search.html">show-advanced-search</a></li>
            
                <li><a href="..&#x2F;modules/show-example-ads.html">show-example-ads</a></li>
            
                <li><a href="..&#x2F;modules/show-login-trigger.html">show-login-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-photo-products.html">show-photo-products</a></li>
            
                <li><a href="..&#x2F;modules/show-popup.html">show-popup</a></li>
            
                <li><a href="..&#x2F;modules/show-questions.html">show-questions</a></li>
            
                <li><a href="..&#x2F;modules/show-register-trigger.html">show-register-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-video.html">show-video</a></li>
            
                <li><a href="..&#x2F;modules/showMoreCategories.html">showMoreCategories</a></li>
            
                <li><a href="..&#x2F;modules/some-module4.html">some-module4</a></li>
            
                <li><a href="..&#x2F;modules/tinymce-register.html">tinymce-register</a></li>
            
                <li><a href="..&#x2F;modules/uploader-photos.html">uploader-photos</a></li>
            
                <li><a href="..&#x2F;modules/validate.html">validate</a></li>
            
                <li><a href="..&#x2F;modules/validate-document.html">validate-document</a></li>
            
                <li><a href="..&#x2F;modules/validate-image.html">validate-image</a></li>
            
                <li><a href="..&#x2F;modules/venta.html">venta</a></li>
            
                <li><a href="..&#x2F;modules/yOSON.html">yOSON</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: modules&#x2F;tmp&#x2F;admin.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;************************************************************************************************\
 * index.js - Modulos                                                                           *
 * Module    : default                                                                          *
 * Controller: index                                                                            *
 *                                                                                              *
 * Company: Perucomsultores.pe                                                                  *
 * Authors: Jaime Rodriguez                                                                     *
 *          Jan Sanchez A.                                                                      *
 *          Andres Muñoz                                                                        *
 *          Erik Flores                                                                         *
 *          Brayan Borda                                                                        *
 ************************************************************************************************&#x2F;

&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: Modulo-Template 
 * @Description: Descripcion de este modulo aca.
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;some-module&quot;, function(Sb){ 
    var sParam  = &#x27;String&#x27;;            &#x2F;*Private Property : Pra uso solo dentro del modulo*&#x2F;
    var fPrivate = function(){&#x2F;*...*&#x2F;};&#x2F;*Private Method   : Para uso solo dentro del modulo*&#x2F;
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){ },
        &#x2F;*Public method : Implementacion de alguna funcionalidad asociada a este modulo.*&#x2F;
        other: function(){  },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
});


&#x2F;*-------------------------------------------------------------------------------------------------------------
 * @Module: add-product
 * @Description: Adiciona un producto al carrito
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;add-product&quot;, function(Sb){ 
    var staturl=yOSON.baseHost;&#x2F;* Base de la url *&#x2F;   
    var url,data,id,extra,cant; &#x2F;* Parametros post*&#x2F; 
    return {    
        init: function(oParams){

           function ajaxPost(url,data){
                $.ajax({
                    &#x27;url&#x27;:url+&quot;carrito&#x2F;additem&quot;,
                    &#x27;type&#x27;:&#x27;get&#x27;,
                    &#x27;data&#x27;: data,
                    &#x27;dataType&#x27; : &#x27;jsonp&#x27;,
                    &#x27;success&#x27; : function(response){
                        if(response.success) {
                            location.href=staturl+&quot;carrito&#x2F;paso1&quot;;
                        }else {alert(response.errormessage);}                       
                    }
                });
           };
           &#x2F;&#x2F;#add-item-cart
           $(&quot;.add-cart, .item-add .btn-peruplaza&quot;).click(function(event){&#x2F;*, .description-shop-middle .btn-peruplaza*&#x2F;

               if($(this).attr(&#x27;class&#x27;).indexOf(&#x27;disabled&#x27;)!=-1){
                   $(this).css({&#x27;cursor&#x27;:&#x27;default&#x27;, &#x27;text-decoration&#x27;:&#x27;none&#x27;});
                   return false;
               }
               
               event.preventDefault();
               id=$(this).attr(&quot;rel&quot;);  
               var inp = $(&#x27;.vnumeric&#x27;);
               cant=inp.exist()?( ($.trim(inp.val())!=&#x27;&#x27;)?inp.val():0 ):1; 
               var idPaper = ($(&#x27;.gitf-check input&#x27;).attr(&#x27;checked&#x27;))?0:$(&#x27;.item-title input:checked&#x27;).val();

               data={&#x27;idProduct&#x27;:id, cantidad: cant, idExtraProduct:idPaper};

               &#x2F;&#x2F;ajaxPost(staturl, data);
               Console.log(&#x27;889:&#x27;+document.domain);
               ajaxPost(yOSON.baseHost, data);
           });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
});


&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: num-items
 * @Description: Numero de items del carrito de compras
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;num-items&quot;, function(Sb){ 
    
    var sParam  = &#x27;String&#x27;;            &#x2F;*Private Property : Pra uso solo dentro del modulo*&#x2F;
    var fPrivate = function(){&#x2F;*...*&#x2F;};&#x2F;*Private Method   : Para uso solo dentro del modulo*&#x2F;
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            window.pet = $.ajax({
                url      :yOSON.baseHost+&quot;carrito&#x2F;nitems&quot;,
                type     :&#x27;get&#x27;,
                data     : {a:&quot;&quot;},
                dataType : &#x27;jsonp&#x27;,
                success  : function(response){ &#x2F;*alert(response);*&#x2F;$(&#x27;.btn-cart a .cart-items&#x27;).html(response.nitems);}
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };

});

&#x2F;*-------------------------------------------------------------------------------------------------
 * @Module: show-popup
 * @Description: modulo para mostrar popup.
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;show-popup&quot;, function(Sb){ 
    &#x2F;*
     * @private
     *&#x2F;
    var dom = {btnVisa:$(&#x27;a.verified-by-visa-ico, .radio .verified&#x27;)};  &#x2F;*[ .radio .verified ] se encuebtra eb carrito paso3*&#x2F;
    Console.log(dom.btnVisa);
    $(&#x27;.radio .verified&#x27;).css(&#x27;cursor&#x27;, &#x27;pointer&#x27;);  &#x2F;*solo para &quot;verified&quot; del paso 3*&#x2F;
    var popup = function(pagina, ancho, alto, barras){
        izquierda = (screen.width) ? (screen.width - ancho) &#x2F; 2 : 100;
        arriba = (screen.height) ? (screen.height - alto) &#x2F; 2 : 100;
        opciones =&#x27;toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=&#x27;+barras+&#x27;,resizable=0,width=&#x27;+ancho+&#x27;,height=&#x27;+alto+&#x27;,left=&#x27;+izquierda+&#x27;,top=&#x27;+arriba+&#x27;&#x27;;
        window.open(pagina,&quot;nombre&quot;+&quot;-&quot;+ancho+&quot;x&quot;+alto,opciones);
    };
    &#x2F;*
     * @public
     *&#x2F;
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(){
            dom.btnVisa.bind(&#x27;click&#x27;, function(){popup(&#x27;http:&#x2F;&#x2F;www.visanet.com.pe&#x2F;visa.htm&#x27;, 606, 405, &#x27;no&#x27;);});            
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };

});

&#x2F;*-------------------------------------------------------------------------------------------------------
 * @Module     : search-autocomplete
 * @Description: autocomplete de palabras al escribir, el cual se mostrara en todas la paginas
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;search-autocomplete&#x27;, function(Sb){
    var defaults = {
        monosilabos : [&#x27;de&#x27;,&#x27;el&#x27;,&#x27;la&#x27;,&#x27;los&#x27;,&#x27;un&#x27;,&#x27;una&#x27;,&#x27;tres&#x27;,&#x27;las&#x27;,&#x27;unos&#x27;],
        selector : &#x27;#search-keyword&#x27;,
        &#x2F;*ajaxUrl:baseDir+&#x27;search.php&#x27;,*&#x2F;
        limitRows: 10,
        arrayName: &#x27;products&#x27;,
        erase : &#x27;inputerase&#x27;,
        eraseText: &#x27;&#x27;,
        SelectorAuto:&#x27;ul.ui-autocomplete li a&#x27;,
        SelectorAuto2:&#x27;ul.ui-autocomplete&#x27;,
        SelectorImprovised:&#x27;.header&#x27;,
        SelectorMainMenu:&#x27;ul#main-menu li a&#x27;,
        length: 2,
        multipleWords : 0,
        requests:[],
        noresults : {&quot;msg&quot; : [{&quot;id&quot;:&quot;0&quot;,&quot;name&quot;:&quot;No se encontraron resultados para su busqueda.&quot;,&quot;value&quot;:&quot;No se encontraron resultados para su busqueda.&quot;,&quot;url&quot;:&quot;&quot;}]},
        nofound : false
    },
    st = $.extend(defaults, st),
    dom = {},
    catchDom = function(){dom.inputSearch = $(st.selector);},
    bindEvents = function(){
        dom.inputSearch.bind(&quot;keyup&quot;, function(event){
            &#x2F;&#x2F;if(&#x2F;[a-zA-Z0-9áéíóúñÁÉÍÓÚÑ\&amp;\&#x27;\&quot;]&#x2F;g.test(dom.inputSearch.val()))return false;([a-z-]+)\&#x2F;([a-zA-Z0-9-áéíóúñÁÉÍÓÚÑ\&amp;\&#x27;\&quot;\s]+)
            dom.inputSearch.val(dom.inputSearch.val().replace(&#x2F;([^\*\-#@\sa-zA-Z0-9-áéíóúñÁÉÍÓÚÑ\&amp;\&#x27;\&quot;])&#x2F;g,&#x27;&#x27;));&#x2F;&#x2F;([^\*\-#@\s0-9])
            if(dom.inputSearch.val()==&#x27;&#x27;){$(&#x27;a.&#x27;+st.erase).fadeOut();}&#x2F;&#x2F;return false;
        }),
        dom.inputSearch.bind(&quot;keydown&quot;, function(event){
            dom.inputSearch.val(dom.inputSearch.val().replace(&#x2F;([^\*\-#@\sa-zA-Z0-9-áéíóúñÁÉÍÓÚÑ\&amp;\&#x27;\&quot;])&#x2F;g,&#x27;&#x27;));
            if(event.keyCode===$.ui.keyCode.TAB &amp;&amp; $(this).data(&quot;autocomplete&quot;).menu.active){event.preventDefault();}
        }).autocomplete({
            delay: 400,
            source: function(request, response){
                var elem=this.element, eTerm=&#x27;&#x27;;
                if(st.multipleWords==0){eTerm = request.term.toLowerCase();}
                else{eTerm = extractLast(request.term.toLowerCase());}
                if(eTerm!=&#x27;&#x27; &amp;&amp; $.inArray($.trim(dom.inputSearch.val()),st.monosilabos)==-1){
                    $.ajax({
                        url: yOSON.baseHost+ &#x27;buscar&#x2F;autocompletar&#x2F;&#x27;+eTerm+&#x27;&#x2F;&#x27;+$(&#x27;#search-category option:selected&#x27;).val(),
                        dataType: &#x27;jsonp&#x27;,
                        success: function(data){ 
                            
                            $(st.SelectorImprovised).css(&#x27;zIndex&#x27;,85);
                            var state=0, inp=$(&#x27;#search-keyword&#x27;).val(), sel=$(&#x27;#search-category option:selected&#x27;).val();
                            var arr = $.grep(data[st.arrayName], function(item){state=1;return {id:item.id, label:item.name, value:item.name, url:item.url}});
                            var length = data[st.arrayName].length;
                            if(length&gt;=10)arr.push({id:&#x27;ver_mas&#x27;, label:&#x27;ver mas...&#x27;, value:&#x27;ver mas...&#x27;, url:yOSON.baseHost+&#x27;buscar&#x2F;&#x27;+sel+&#x27;&#x2F;&#x27;+inp});
                            response(arr);
                            if (state==0 &amp;&amp; st.nofound) {
                                response(                      
                                    $.grep(st.noresults.msg, function(item){state=0;return {id:item.id, label:item.name, value:item.name, url:item.url}})
                                );
                            }
                            
                        },
                        beforeSend: function(xhr){ },
                        complete: function(event){

                            if(dom.inputSearch.parent().find(&#x27;a.&#x27;+st.erase).attr(&#x27;rel&#x27;)==undefined){
                                dom.inputSearch.after($(&#x27;&lt;a title=&quot;&#x27;+st.eraseText+&#x27;&quot; class=&quot;&#x27;+st.erase+&#x27;&quot; style=&quot;display:none;&quot; rel=&quot;&#x27;+elem[0].id+&#x27;&quot; &gt;&lt;&#x2F;a&gt;&#x27;));
                                $(&#x27;a.&#x27;+st.erase).fadeIn();
                                $(st.SelectorAuto2).css(&#x27;zIndex&#x27;, 9999);                      
                                $(&#x27;a.&#x27;+st.erase).bind(&quot;click&quot;, function(event){
                                    dom.inputSearch.val(&#x27;&#x27;).focus();$(this).fadeOut();
                                }).autocomplete(&#x27;close&#x27;);						
                                $(st.SelectorMainMenu).bind(&quot;mouseover&quot;, function(event){
                                    $(&#x27;#header&#x27;).css(&#x27;zIndex&#x27;, 50);$(st.SelectorAuto2).fadeOut();								
                                }).autocomplete(&#x27;close&#x27;);
                            }else{
                                $(&#x27;a.&#x27;+st.erase).fadeIn();$(st.SelectorAuto2).css(&#x27;zIndex&#x27;, 9999);
                            }
                        }
                    });                
                }
            },
            focus: function() {return false;},
                minLength: st.length,
            select: function(event, ui){   
                if(st.multipleWords==0){
                    if(ui.item.url!=&quot;&quot;){location.href=ui.item.url;$(this).val(ui.item.value);}
                    else{ &#x2F;*acciones de cuando no se encuentre nada*&#x2F; }

                }else if(st.multipleWords==1){
                    var result2=dom.inputSearch.val().search(ui.item.value);
                    if(result2!=0){if(result2!=-1){return false;}}
                    else{return false;}        
                    var terms = split(this.value);        
                    terms.pop();terms.push(ui.item.value);terms.push( &quot;&quot; );
                    this.value = terms.join(&quot;, &quot;);
                    return false;        
                }      
            },
            open: function(event){			
                var texto=this.value.toLowerCase();
                $(st.SelectorAuto).each(function(){
                    result=$(this).html().search(new RegExp(texto, &quot;i&quot;));
                    if(result&gt;0){
                        prev=$(this).html();
                        $(this).html($(this).html().replace(texto,&#x27;&lt;strong&gt;&#x27;+texto+&#x27;&lt;&#x2F;strong&gt;&#x27;));
                        if(prev==$(this).html()){
                            $(this).html($(this).html().replace(texto.capitalize(),&#x27;&lt;strong&gt;&#x27;+texto.capitalize()+&#x27;&lt;&#x2F;strong&gt;&#x27;));
                        }
                    } else {
                        $(this).html($(this).html().replace(texto.capitalize(),&#x27;&lt;strong&gt;&#x27;+texto.capitalize()+&#x27;&lt;&#x2F;strong&gt;&#x27;));
                    }
                });
            },
            close: function(){$(&#x27;#header&#x27;).css(&#x27;zIndex&#x27;, 50);}
        });    

    },
    selectorFunctions = function(){ },
    split = function(val){return val.split( &#x2F;,\s*&#x2F; );},
    extractLast = function(term){return split(term).pop();},    
    load = function(){       
        $(function() { 
            catchDom();bindEvents();selectorFunctions();
            &#x2F;*sb.browserDetect(); se ejecuta para obtener las variables del navegador actual como: name, version, valid
            startList();*&#x2F;
        });       
    },
    
    &#x2F;*---------------------------------------------------------------------
     * Redireccion para formulario de busqueda.
     *&#x2F;&#x2F;*-----------------------------------------------------------------*&#x2F;
    searchForm = function(){
        $(&#x27;.form-search&#x27;).bind(&#x27;submit&#x27;, function(e){
            e.preventDefault();
            var inp = $.trim($(&#x27;#search-keyword&#x27;).val());
            var sel = $(&#x27;#search-category option:selected&#x27;).val();
            var isNum = $.isNumeric(inp);
            var isMon = ($.inArray(inp,[&#x27;de&#x27;,&#x27;el&#x27;,&#x27;la&#x27;,&#x27;los&#x27;,&#x27;un&#x27;,&#x27;una&#x27;,&#x27;tres&#x27;,&#x27;las&#x27;,&#x27;unos&#x27;])&gt;-1);
            if(inp.length&gt;=2 &amp;&amp; !(isNum || isMon)){
                $(&#x27;#search-keyword&#x27;).css(&#x27;border&#x27;,&#x27;1px solid #CCC&#x27;);
                window.location.href = yOSON.baseHost+&#x27;buscar&#x2F;&#x27;+sel+&#x27;&#x2F;&#x27;+inp.replace(&#x2F;[*%$#&quot;&#x27;]&#x2F;,&#x27;|&#x27;);

            }else{ &#x2F;&#x2F;$(&#x27;#search-keyword&#x27;).css(&#x27;border&#x27;,&#x27;1px solid #E52A00&#x27;);
                $(&#x27;.ui-autocomplete&#x27;).css(&#x27;display&#x27;,&#x27;none&#x27;); &#x2F;*Cerramos el autocomplete*&#x2F;
                $(&#x27;#search-keyword&#x27;).focus();
                $(&#x27;.messages-bar .w1000&#x27;).slideDown(400, function(){
                    var that=this;
                    var msj = (isNum||isMon)?&#x27;Ingresa la palabra o nombre de producto para realizar una búsqueda&#x27;:&#x27;Ingresa la palabra o nombre de producto para realizar una búsqueda&#x27;;
                    $(&#x27;div&#x27;,this).html(msj);
                    $(this).find(&#x27;a&#x27;).unbind(&#x27;click&#x27;).bind(&#x27;click&#x27;, function(){$(that).slideUp(400);});&#x2F;*boton cerrar*&#x2F;
                });
            }
            
        });
    },
    
    init = function(){load();searchForm();},
    destroy = function(args){ };
    return {init : init, destroy : destroy}
},[&#x27;libs&#x2F;plugins&#x2F;&#x27;+yOSON.min+&#x27;uiAutoComplete.js&#x27;]);


&#x2F;*-----------------------------------------------------------------------------------------------------------
 * @Module     : main-menu
 * @Description: menu principal se mostrará en todas las paginas
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;main-menu&#x27;, function(Sb){
    
    &#x2F;&#x2F;alert(yOSON.module+&#x27;-&#x27;+yOSON.controller+&#x27;-&#x27;+yOSON.action);
    var isINDEX=(yOSON.module==&#x27;yMvY0OPgoQ==&#x27;&amp;&amp;yOSON.controller==&#x27;zdTW1OY=&#x27;&amp;&amp;yOSON.action==&#x27;zdTW1OY=&#x27;); &#x2F;&#x2F;Si estamos en la pagina pricipal
    
    init = function(){
        var menu=$(&quot;.nav-menu&quot;),h,h2;
         $.each(menu, function(index, value) { 
            h=$(menu[index]).height(); 
            var submenu=$(&quot;ul&quot;,menu[index]);
            $.each(submenu,function(index,value){
                h2=$(submenu[index]).height();
                if(h&gt;h2){
                    $(submenu[index]).css(&quot;height&quot;,h);
                }
            });
        });
        if(isINDEX){$(&#x27;.search-bar .float-menu&#x27;).remove();}
        else{
            if($(&quot;.float-menu&quot;).length){
                var nav=$(&quot;.nav-bar .top-nav-categories&quot;),nmenu=$(&quot;.float-menu&quot;);
                nav.mouseenter(function(){ 
                    nmenu.css(&quot;visibility&quot;,&quot;visible&quot;);
                    nav.css(&quot;background&quot;,&quot;#2C2C2C&quot;);
                }).mouseleave(function(){ 
                    nav.css(&quot;background&quot;,&quot;none&quot;);
                    nmenu.css(&quot;visibility&quot;,&quot;hidden&quot;);
                });
                nmenu.mouseenter(function(){ 
                    nav.trigger(&#x27;mouseenter&#x27;);
                }).mouseleave(function(){ 
                    nav.trigger(&#x27;mouseleave&#x27;);
                });
            }
            if($(&quot;.menu-store&quot;).length){ 
                var nav2=$(&quot;.menu-store&quot;),nmenu2=$(&quot;.nav-store&quot;);
                nav2.mouseenter(function(){ 
                    nav2.addClass(&quot;store-hover&quot;);
                    nmenu2.css(&quot;visibility&quot;,&quot;visible&quot;);
                }).mouseleave(function(){ 
                    nav2.removeClass(&quot;store-hover&quot;);
                    nmenu2.css(&quot;visibility&quot;,&quot;hidden&quot;);
                });
                nmenu2.mouseenter(function(){ 
                    nav2.trigger(&#x27;mouseenter&#x27;);
                }).mouseleave(function(){ 
                    nav2.trigger(&#x27;mouseleave&#x27;);
                });
            }
        }
    },
    destroy = function(args){ };

    return {init:init, destroy:destroy}
});


&#x2F;*-------------------------------------------------------------------------------------------------------
 * @Module     : tiendas-destacadas
 * @Description: Efecto mostral ocultar despelgable de descripcion de tiendas destacadas
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;tiendas-destacadas&#x27;, function(Sb){
    var tEnter = null;
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            &#x2F;*$(&#x27;.featured-stores .f-store&#x27;).bind(&#x27;mouseenter&#x27;, function(){$(this).css(&#x27;cursor&#x27;,&#x27;pointer&#x27;);});*&#x2F;
            $(&#x27;.featured-stores .f-store&#x27;).bind(&#x27;click&#x27;, function(){window.location.href=$(&#x27;h2 a&#x27;, this).attr(&#x27;href&#x27;);});
            
            $(&#x27;.featured-stores .f-store&#x27;).mouseenter(function(){
                console.log(&quot;Hola&quot;);
                $(this).data(&#x27;TIMER&#x27;, setTimeout(function(){
                    $(&#x27;.first-content&#x27;, this).slideUp(300);
                    $(&#x27;.second-content&#x27;, this).slideDown(300);
                }.bnd(this), 400));
            });
            
            $(&#x27;.featured-stores .f-store&#x27;).mouseleave(function(){
                clearTimeout($(this).data(&#x27;TIMER&#x27;));
                $(&#x27;.first-content&#x27;, this).slideDown(300);
                $(&#x27;.second-content&#x27;, this).slideUp(300);
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
});


&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : modal-images
 * @Description: menu principal se mostrará en todas las paginas
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;modal-images&#x27;, function(Sb){
    var imgDe = $(&#x27;.detail-image .tac img&#x27;);
    var zoomH = $(&#x27;.detail-image .tac .hidden-zoom&#x27;);
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){ &#x2F;*alert(&#x27;init!!!&#x27;);  *&#x2F;
            Console.log(&#x27;520: init - .carrusel-items&#x27;);
            Console.log($(&quot;.carrusel-items&quot;));
            $(&quot;.carrusel-items&quot;).colorbox({rel:&#x27;carrusel-items&#x27;});
            &#x2F;&#x2F;zoomH.bind(&#x27;click&#x27;,function(){ $(&#x27;.carrusel-item&#x27;).trigger(&#x27;click&#x27;); });
            imgDe.mouseenter(function(){zoomH.css(&#x27;visibility&#x27;,&#x27;visible&#x27;)});
            zoomH.mouseleave(function(){zoomH.css(&#x27;visibility&#x27;,&#x27;hidden&#x27;)})
            $(&#x27;.carrusel-item&#x27;).bind(&#x27;click&#x27;, function(e){e.preventDefault();$(&#x27;.carrusel-items:first&#x27;).trigger(&#x27;click&#x27;);});
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqColorBox.js&#x27;, &#x27;plugins&#x2F;jqColorBox.css&#x27;]);


&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : paper-gift
 * @Description: Papel de regalo
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;paper-gift&#x27;, function(Sb){
    
    var paperContent   = $(&#x27;.paper-gift .paper-gift-content&#x27;);
    var paperCloseOpen = $(&#x27;.paper-gift .gitf-toggle a&#x27;);
    var paperSelected  = $(&#x27;.paper-select img, .gitf-image img&#x27;);
    var paperItem      = &#x27;.paper-item&#x27;;
    var paperItemCheck = &#x27;.item-title input[type=&quot;checkbox&quot;], .item-img img&#x27;;
    var paperItemImg   = function(context){return $(&#x27;.item-img img&#x27;,context);};
    var chkNotPaper    = $(&#x27;.paper-gift .gitf-check input[type=checkbox]&#x27;);
    var paperCloseOpenContent = $(&#x27;.paper-gift .gitf-toggle&#x27;);
    &#x2F;&#x2F;var dataPapers     = {a:&#x27;a&#x27;};
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        dataPapers: {},  &#x2F;*Guardara la data de todos los papers.*&#x2F;
        
        init: function(oParams){
            &#x2F;*Click en el link &quot;ver mas papeles&quot;*&#x2F;
            paperCloseOpen.click(function(e, fnc){  
                var that = this;
                if($(&quot;#toogle&quot;).hasClass(&quot;toggle-down&quot;)){
                    $(&quot;#toogle&quot;).removeClass(&quot;toggle-down&quot;).addClass(&quot;toggle-up&quot;);
                } else {
                    $(&quot;#toogle&quot;).removeClass(&quot;toggle-up&quot;).addClass(&quot;toggle-down&quot;);
                }
                paperContent.slideToggle(500,function(){
                    $(that).html( ($.trim($(that).text())==&#x27;Cerrar&#x27;)?&#x27;Ver m&amp;aacute;s papeles&#x27;:&#x27;Cerrar&#x27; );
                    if(fnc)fnc();
                });
            });
            &#x2F;*Click en un papel de regalo para seleccionarlo.*&#x2F;
            $(paperItemCheck).live(&#x27;click&#x27;, function(){ 
                var thisPaperItem = $(this).parent().parent();
                $(paperItem).css(&#x27;background&#x27;, &#x27;#F5F5FB&#x27;);
                paperSelected.attr(&#x27;src&#x27;, paperItemImg(thisPaperItem).attr(&#x27;src&#x27;) );
                $(paperItemCheck).attr(&#x27;checked&#x27;, false);                   &#x2F;*all checked item false*&#x2F;
                $(&#x27;.item-title input[type=&quot;checkbox&quot;]&#x27;, thisPaperItem).attr(&#x27;checked&#x27;, true); &#x2F;*Checked en este item seleccionado*&#x2F;
                $(&#x27;.paper-select span:eq(0)&#x27;).html( $(&#x27;span:eq(0)&#x27;, thisPaperItem).html() ); &#x2F;*Actualizar titulo*&#x2F;
                $(&#x27;.paper-select span:eq(1)&#x27;).html( $(&#x27;span:eq(1)&#x27;, thisPaperItem).html() ); &#x2F;*Actualizar precio*&#x2F;
                thisPaperItem.css(&#x27;background&#x27;, &#x27;#ACECF7&#x27;);  &#x2F;*Item selecionado*&#x2F;
            });
            &#x2F;*Llenando de data los papeles existentes y posibles *&#x2F;
            &#x2F;*$.ajax({    
                type:&quot;POST&quot;, url:yOSON.baseHost+&#x27;default&#x2F;aviso&#x2F;get-papeles-regalo&#x27;, dataType:&#x27;json&#x27;,
                success:function(data){this.dataPapers=data;$(&#x27;#gift-reason&#x27;).attr(&#x27;readonly&#x27;,false);}.bnd(this)
            });*&#x2F;
            &#x2F;*Asociamos funcionalidad al selector de motivos*&#x2F;
            this.selectReason();
            this.selectNotPaper();
        },
        &#x2F;*No deseo papel de regalo*&#x2F;
        selectNotPaper: function(){            
           chkNotPaper.bind(&#x27;click&#x27;, function(){  
               if(chkNotPaper.is(&#x27;:checked&#x27;)){
                   if( $.trim(paperCloseOpen.text())==&#x27;Cerrar&#x27;){ paperCloseOpen.trigger(&#x27;click&#x27;); }
                   paperCloseOpenContent.fadeOut(300);
                   Console.log($(&#x27;.paper-list .paper-item input:checked&#x27;, paperContent));
                   $(&#x27;.paper-list .paper-item input:checked&#x27;, paperContent).attr(&#x27;checked&#x27;, false);
               }else{
                   paperCloseOpenContent.fadeIn(300);
                   $(&#x27;.paper-list .paper-item input:first&#x27;, paperContent).attr(&#x27;checked&#x27;, true);
               }  
            });
        },
        &#x2F;*Implementacion del seleccionador de papeles segun el motivo*&#x2F;
        selectReason: function(){
            var THAT = this;
            $(&#x27;#gift-reason&#x27;).bind(&#x27;change&#x27;, function(){
                var dataHtml=&#x27;&#x27;, id=$(&#x27;option:selected&#x27;,this).val(); 
                &#x2F;*Console.log(THAT.dataPapers);*&#x2F;
                if(THAT.dataPapers[id])$.each(THAT.dataPapers[id], function(i,val){
                    dataHtml+=THAT.tplPaper(val[&#x27;tit&#x27;],val[&#x27;src&#x27;],val[&#x27;prec&#x27;],val[&#x27;id&#x27;]);
                });
                $(&#x27;.paper-gift-content .paper-list&#x27;).html(dataHtml);
            }); &#x2F;*Console.log(THAT);*&#x2F;
        },
        &#x2F;*Template para un papel*&#x2F;
        tplPaper: function(tit,src,prec,id){
            return &#x27;&lt;div class=&quot;paper-item&quot; style=&quot;background: none repeat scroll 0% 0% rgb(245, 245, 251);&quot;&gt;&#x27;+
                        &#x27;&lt;div class=&quot;item-title&quot;&gt;&lt;input type=&quot;checkbox&quot;&gt;&lt;span&gt;&amp;nbsp;&#x27;+tit+&#x27;&lt;&#x2F;span&gt;&lt;&#x2F;div&gt;&#x27;+
                        &#x27;&lt;div class=&quot;item-img&quot;&gt;&lt;img width=&quot;121&quot;  src=&quot;&#x27;+src+&#x27;&quot; alt=&quot;Cortesía&quot; &#x2F;&gt;&lt;&#x2F;div&gt;&#x27;+
                        &#x27;&lt;span&gt;&#x27;+prec+&#x27;&lt;&#x2F;span&gt;&lt;span style=&quot;display:none;&quot;&gt;&#x27;+id+&#x27;&lt;&#x2F;span&gt;&#x27;+
                    &#x27;&lt;&#x2F;div&gt;&#x27;;
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
});


&#x2F;*-------------------------------------------------------------------------------------------------------------
 * @Module     : result-search
 * @Description: Acciones que se ejecutan al cargar la pagina resultados de busqueda
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;result-search&#x27;, function(Sb){
    
    var txtsPrec = $(&#x27;#precio_de, #precio_a&#x27;);      &#x2F;*Rangos de precio: en los filtros*&#x2F;
    var linkSend = $(&#x27;a&#x27;,$(&#x27;#precio_de&#x27;).parent()); &#x2F;*Link send, envia los datos de precio*&#x2F;
    var btnsView = $(&#x27;.view-paginate .view a&#x27;);     &#x2F;*Botones para cambiar las vistas (galeria o lista)*&#x2F;
    return { 
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            txtsPrec.numeric({negative:false, decimal:false, length:4});
            this.findByPrec();
            this.typeView();
            this.checkLinks();
            &#x2F;&#x2F;$(&#x27;div.result-list a img, ul.result-list a img&#x27;).resize({maxWidth:180, maxHeight:120});
        },
        &#x2F;*
         *@public: Buscar por precio, filtro que recibe 2 parametros cantidad inicial y final
         **&#x2F;
        findByPrec: function(){
            linkSend.unbind().bind(&#x27;click&#x27;, function(e){
                e.preventDefault();
                var correct = ( parseInt($(&#x27;#precio_de&#x27;).val()) &lt; parseInt($(&#x27;#precio_a&#x27;).val()) );
                if($(&#x27;#precio_de&#x27;).val()!=&#x27;&#x27;&amp;&amp;$(&#x27;#precio_a&#x27;).val()!=&#x27;&#x27;){
                    if(correct){
                        txtsPrec.css(&#x27;border&#x27;,&#x27;1px solid #CBCBCB&#x27;);
                        window.location.href=$(this).attr(&#x27;href&#x27;)+&#x27;precio-de-&#x27;+$(&#x27;#precio_de&#x27;).val()+&#x27;-a-&#x27;+$(&#x27;#precio_a&#x27;).val();                        
                    }else{
                        $(&#x27;.messages-bar .w1000&#x27;).slideDown(400, function(){
                            location.href = &quot;#close-messages&quot;;
                            var that=this;$(&#x27;div&#x27;,this).html(&#x27;Valor inicial(&lt;b&gt;De&lt;&#x2F;b&gt;) debe ser menor que valor final(&lt;b&gt;a&lt;&#x2F;b&gt;).&#x27;);
                            $(&#x27;#precio_de, #precio_a&#x27;).css(&#x27;border&#x27;,&#x27;1px solid #f00&#x27;);
                            $(this).find(&#x27;a&#x27;).unbind(&#x27;click&#x27;).bind(&#x27;click&#x27;, function(){$(that).slideUp(400);});&#x2F;*boton cerrar*&#x2F;
                        });
                    }
                }else{
                    if($(&#x27;#precio_de&#x27;).val()==&#x27;&#x27;)$(&#x27;#precio_de&#x27;).css(&#x27;border&#x27;,&#x27;1px solid #f00&#x27;); else $(&#x27;#precio_de&#x27;).css(&#x27;border&#x27;,&#x27;1px solid #CBCBCB&#x27;);
                    if($(&#x27;#precio_a&#x27;).val() ==&#x27;&#x27;)$(&#x27;#precio_a&#x27; ).css(&#x27;border&#x27;,&#x27;1px solid #f00&#x27;); else $(&#x27;#precio_a&#x27;).css(&#x27;border&#x27;,&#x27;1px solid #CBCBCB&#x27;);
                }
            });            
        },
        &#x2F;*
         *@public: Tipo de vistas en el resultado de busqueda (como galeria o como lista)
         **&#x2F;
        typeView: function(){
            btnsView.bind(&#x27;click&#x27;, function(e){
                e.preventDefault();
                var type = $.trim($(this).attr(&#x27;title&#x27;));&#x2F;*Console.log(type);*&#x2F; &#x2F;*lista o galeria*&#x2F;
                Cookie.del(&#x27;searchState&#x27;).create(&#x27;searchState&#x27;, (type== &#x27;lista&#x27;)?&#x27;cell&#x27;:&#x27;grid&#x27;);
                Console.log(&#x27;Cookie:673 - &#x27;);Console.log(Cookie.read(&#x27;searchState&#x27;));
                if($.browser.msie &amp;&amp; $.browser.version==&#x27;7.0&#x27;){
                    if(type== &#x27;lista&#x27;){$(&#x27;ul.result-list&#x27;).css(&#x27;display&#x27;,&#x27;block&#x27;);$(&#x27;div.result-list&#x27;).css(&#x27;display&#x27;,&#x27;none&#x27;);return;}
                    if(type==&#x27;galeria&#x27;){$(&#x27;div.result-list&#x27;).css(&#x27;display&#x27;,&#x27;block&#x27;);$(&#x27;ul.result-list&#x27;).css(&#x27;display&#x27;,&#x27;none&#x27;);return;}                    
                }else{
                    if(type== &#x27;lista&#x27;){$(&#x27;ul.result-list&#x27;).slideDown(500);$(&#x27;div.result-list&#x27;).slideUp(500);return;}
                    if(type==&#x27;galeria&#x27;){$(&#x27;div.result-list&#x27;).slideDown(500);$(&#x27;ul.result-list&#x27;).slideUp(500);return;}                    
                }
            });
        },
        
        &#x2F;*
         * Check en los items de categoria que redireccionan al mismo lugar que los links de su costado.
         * http:&#x2F;&#x2F;local.peruplaza.pe&#x2F;flores-y-peluches&#x2F;arreglos-y-plantas&#x2F;inauguracion--funebres
         **&#x2F;
        checkLinks : function(){
            $(&#x27;.item-options li h3 input[type=&quot;checkbox&quot;]&#x27;).bind(&#x27;click&#x27;, function(){
                location.href = $(this).siblings(&#x27;a&#x27;).attr(&#x27;href&#x27;);
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqNumeric.js&#x27;, &#x27;libs&#x2F;class&#x2F;classCookie.js&#x27;]);


&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : modal-shopping
 * @Description: Modal de pedidos
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;modal-shopping&#x27;, function(Sb){
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){            
            $(&quot;.actions-compras&quot;).colorbox();
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqColorBox.js&#x27;, &#x27;plugins&#x2F;jqColorBox.css&#x27;]);


&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : Validate Form
 * @Description: Valida el formulario
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;validation&#x27;, function(Sb){
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){ 
            $(oParams.form).validate({
                rules:requires[oParams.form].rules,
                messages:requires[oParams.form].messages
            }); 
            
            $(&#x27;#btn-back&#x27;).bind(&#x27;click&#x27;, function(){history.back();});
            
            $(&#x27;input#email&#x27;).bind(&#x27;keyup blur&#x27;, function(e){$(this).val($.trim($(this).val()));}); &#x2F;*Validacion del Email*&#x2F;
            $(&#x27;input#phone&#x27;).bind(&#x27;keyup blur&#x27;, function(e){$(this).val( $(this).val().replace(&#x2F;([^\*\-#@\s0-9])&#x2F;gi,&#x27;&#x27;) );}); &#x2F;*Validacion del Email*&#x2F;
            $(&#x27;input#phone&#x27;).bind(&#x27;blur&#x27;, function(e){$(this).val( $.trim($(this).val()) );});
            &#x2F;&#x2F;$(&#x27;#delivery_instructions, #your_message&#x27;).bind(&#x27;keydown&#x27;, function(e){ Console.log(&#x27;---&gt;&#x27;+$(this).val().length); if($(this).val().length&gt;=350){return false;} });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqValidate.js&#x27;]);


&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : Carousel
 * @Description: Carousel de formularios
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;slide-carousel&#x27;, function(Sb){
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){            
          if($(&quot;#product-carousel article&quot;).length &gt; 5){
            $(&quot;#product-carousel&quot;).bxSlider({
                displaySlideQty:5, moveSlideQty:5, infiniteLoop:false, hideControlOnEnd: true,
                onLastSlide: function(){$(&#x27;a.bx-next&#x27;).fadeOut();}
            });
          }else{$(&quot;#product-carousel&quot;).css(&quot;margin-left&quot;,&quot;26px&quot;);}
          
          if($(&quot;#product-carousel2 article&quot;).length &gt; 5){
            $(&quot;#product-carousel2&quot;).bxSlider({
                displaySlideQty:5, moveSlideQty:5, infiniteLoop:false, hideControlOnEnd: true,
                onLastSlide: function(){$(&#x27;a.bx-next&#x27;).fadeOut();}
            });
          }else{$(&quot;#product-carousel2&quot;).css(&quot;margin-left&quot;,&quot;26px&quot;);}
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqBxSlider.js&#x27;]);


&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : Validate Numeric
 * @Description: Valida campos enteros
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;valid-numeric&#x27;, function(Sb){
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            $(&quot;.vnumeric&quot;).numeric({negative:false, decimal:false, length:2});
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqNumeric.js&#x27;]);


&#x2F;*-------------------------------------------------------------------------------------------------------------
 * @Module: bubble-efect
 * @Description: Efecto del globo de oferta parpadeante en los productos.
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;bubble-efect&quot;, function(Sb){ 
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            $(&quot;.product&quot;).topHover({topHover:&#x27;-15px&#x27;, topOut:&#x27;-9px&#x27;, selectors:[&#x27;.new&#x27;,&#x27;.offer&#x27;]});
            $(&quot;.result-list li .item-image&quot;).topHover({topHover:&#x27;-15px&#x27;, topOut:&#x27;-9px&#x27;, selectors:[&#x27;.new&#x27;,&#x27;.offer&#x27;]});
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
});

&#x2F;*-------------------------------------------------------------------------------------------------------------
 * @Module: menu-vitrina
 * @Description: Menu desplegalbe a la derecha, semejante al home.
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;menu-vitrina&quot;, function(Sb){ 
    var isTIENDA=(yOSON.module==&#x27;yMvY0OPgoQ==&#x27;&amp;&amp;yOSON.controller==&#x27;2M&#x2F;X3dLV&#x27;&amp;&amp;yOSON.action==&#x27;zdTW1OY=&#x27;); &#x2F;&#x2F;Si estamos en la pagina pricipal
    var menu = $(&#x27;#main-menu2&#x27;);
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            $(&#x27;li&#x27;, menu).mouseenter(function(){
                $(&#x27;.sub&#x27;, this).animate({opacity:1},500).css({&#x27;display&#x27;:&#x27;block&#x27;,&#x27;left&#x27;:&#x27;191px&#x27;,&#x27;top&#x27;:&#x27;28px&#x27;,&#x27;border-top&#x27;:&#x27;1px solid #B0B0AF&#x27;,&#x27;height&#x27;:&#x27;295px&#x27;});
            }).mouseleave(function(){
                $(&#x27;.sub&#x27;, this).css(&#x27;opacity&#x27;,&#x27;0&#x27;).css(&#x27;display&#x27;,&#x27;none&#x27;);
                &#x2F;&#x2F;$(&#x27;.sub&#x27;, this).animate({opacity:0},50,function(){$(this).css(&#x27;display&#x27;,&#x27;none&#x27;);});
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
});

&#x2F;*-------------------------------------------------------------------------------------------------------------
 * @Module: delete-product
 * @Description: Elimina un producto del carrito en el paso 1 via ajax
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;delete-product&quot;, function(Sb){ 
    var staturl=yOSON.baseHost;&#x2F;* Base de la url *&#x2F;    
    var url,data,id,gift; &#x2F;* Parametros post*&#x2F; 
    return {	
        init: function(oParams){
           function ajaxPost(url,data){
                $.ajax({
                    &#x27;url&#x27;:url,
                    &#x27;type&#x27;:&#x27;post&#x27;,
                    &#x27;data&#x27;: data,
                    &#x27;dataType&#x27; : &#x27;json&#x27;,
                    &#x27;success&#x27; : function(response) { 
                        if(response) {
                            if(url.indexOf(&#x27;removeitem&#x27;)!=-1){Cookie.del(&#x27;cartProduct&#x27;+data.idProduct);}                 	   
                            location.href=staturl+&quot;carrito&#x2F;paso1&quot;;
                        } else {
                            alert(response.errormessage);
                        }

                    }
                });  
           }
           $(&quot;.delete a&quot;).click(function(event){
               event.preventDefault();
               url=$(this).attr(&quot;rel&quot;);     
               if($(this).hasClass(&quot;gift&quot;)){
                  id=$(this).attr(&quot;dataid&quot;);
                  gift=$(this).parents(&quot;.gift-item&quot;).attr(&quot;id&quot;).split(&quot;gid-&quot;).join(&quot;&quot;);
                  data={&#x27;idProduct&#x27;: id,&#x27;idExtraProduct&#x27;: gift}; 
               }
               else{
                 id=$.trim($(this).parent().siblings(&quot;.id&quot;).text());
                 data={&#x27;idProduct&#x27;: id};
               }
               ajaxPost(staturl+url,data);
           });
        },       
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
}, [&#x27;libs&#x2F;class&#x2F;classCookie.js&#x27;]);



&#x2F;*-------------------------------------------------------------------------------------------------------------
 * @Module: auto-suma
 * @Description: Auto sumado de los campos de los items del carrito.
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;auto-suma&quot;, function(Sb){ 
    &#x2F;&#x2F;var oSums = $(&#x27;.total-price&#x27;);
    var oSubT = $(&#x27;.subtotal&#x27;).siblings(&#x27;td&#x27;).find(&#x27;.sprice&#x27;).add(&#x27;.content .total&#x27;); &#x2F;*Objeto subtotal de subtotales*&#x2F;
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            var THAT = this;
            $(&quot;input[name*=&#x27;quantity&#x27;]&quot;).numeric({negative:false, min:0, decimal:false, length:2, enter:false}).bind(&#x27;keyup click&#x27;,function(){
                var idItem = $.trim( $(&#x27;td.id&#x27;, $(this).parent().parent()).text() );
                Cookie.del(&#x27;cartProduct&#x27;+idItem).create(&#x27;cartProduct&#x27;+idItem, $.trim($(this).val()) );
                THAT.subTotal( $(this).parent().parent() );
            });
        },
        
        subTotal:function(oRow){
            var precUpaper = 0;
            var precTpaper = 0;
            var oRowNext   = $(oRow).next(&#x27;tr&#x27;);
            var havePaper  = (($.trim(oRowNext.attr(&#x27;class&#x27;))==&#x27;gift-item&#x27;));
            
            var precU = parseFloat($.trim( $(&#x27;.unit-price&#x27;, oRow).text().replace(&#x27;,&#x27;,&#x27;&#x27;) ));        &#x2F;*Precio unitario de un row*&#x2F;
            var quant = parseFloat($.trim( $(&#x27;input[id=&quot;quantity&quot;]&#x27;, oRow).val().replace(&#x27;,&#x27;,&#x27;&#x27;) ));&#x2F;*Cantidad unitaria de un row*&#x2F;
            var precT = parseFloat($.trim( $(&#x27;.total-price&#x27;, oRow).text().replace(&#x27;,&#x27;,&#x27;&#x27;) ));       &#x2F;*subtotal unitaria anterior de un row*&#x2F;
            var subTo = parseFloat($.trim(oSubT.text().replace(&#x27;,&#x27;,&#x27;&#x27;)));                           &#x2F;*subtotal de subtotales*&#x2F;
            quant = isNaN(quant)?0:quant;

            
            if(havePaper){ &#x2F;*Si tiene papel de regalo*&#x2F;
                precUpaper = parseFloat($.trim( $(&#x27;.unit-price&#x27;, oRowNext).text().replace(&#x27;,&#x27;,&#x27;&#x27;) ));&#x2F;*Precio unitario papel*&#x2F;
                precTpaper = parseFloat($.trim( $(&#x27;.total-price&#x27;,oRowNext).text().replace(&#x27;,&#x27;,&#x27;&#x27;) ));&#x2F;*subtotal unitaria anterior de papel*&#x2F;
                $(&#x27;input[id=&quot;quantitygift&quot;]&#x27;, oRowNext).val(quant);                &#x2F;*Igualando cantidad de item con cantidad de papeles de regalo*&#x2F;
                var result=Math.round(precUpaper*quant*Math.pow(10,2))&#x2F;Math.pow(10,2);
                $(&#x27;.total-price&#x27;, oRowNext).text( result.toFixed(2) );  &#x2F;*Actualizar subtotal unitario de papel*&#x2F;
            }
            
            $(&#x27;.total-price&#x27;, oRow).text( (Math.round(precU*quant*Math.pow(10,2))&#x2F;Math.pow(10,2)).toFixed(2) );                                  &#x2F;*Actualizar subtotal unitarios*&#x2F;
            &#x2F;*Actualizar subtotal de subtotales*&#x2F;
            Console.log(&#x27;precU:&#x27;+precU+&#x27; quant:&#x27;+quant+&#x27; precT:&#x27;+precT+&#x27; subTo:&#x27;+subTo+&#x27;&#x27;);
            oSubT.text( (Math.round( (( subTo-precT-(precTpaper) )+( precU*quant + (precUpaper*quant) ) )*Math.pow(10,2))&#x2F;Math.pow(10,2)).toFixed(2) );
            $(&#x27;.content .total&#x27;).text(&#x27;S&#x2F;. &#x27;+$(&#x27;.content .total&#x27;).text());
        }
    }
}, [&#x27;libs&#x2F;plugins&#x2F;jqNumeric.js&#x27;, &#x27;libs&#x2F;class&#x2F;classCookie.js&#x27;]);

&#x2F;*-------------------------------------------------------------------------------------------------------------
 * @Module: change-cardgift
 * @Description: Tarjetas de Regalo
 *&#x2F;&#x2F;*---------------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;change-cardgift&quot;, function(Sb){ 
    var chckcard=$(&quot;#check-giftcard&quot;);&#x2F;* Checkbox que almacena el id del regalo *&#x2F;  
    var popup=$(&quot;.giftcard&quot;); &#x2F;* Link que inicializa el popup *&#x2F;
    var nm=$(&quot;span&quot;,chckcard.parent()); &#x2F;* Nombre del regalo*&#x2F;
    var pr=$(&quot;.add-gift&quot;,chckcard.parents(&quot;tr&quot;)); &#x2F;* Precio del regalo*&#x2F;
    var cnt; &#x2F;* Paper select *&#x2F;
    var price,name,srcimg,giftval; &#x2F;* Parametros *&#x2F;    
    var comaDecimal = function(){
        &#x2F;*SEPARADOR DE MILES*&#x2F;
    };
    return {	
        init: function(oParams){
            var THAT = this;
            function cardgift(){
                cnt=$(&quot;.paper-select&quot;);              
                $(&quot;.paper-item&quot;).live(&#x27;click&#x27;,function(){ 
                    $(&quot;.paper-item&quot;).removeClass(&quot;active&quot;);
                    $(this).addClass(&quot;active&quot;);
                    $(&quot;.paper-item input[type=&#x27;checkbox&#x27;]&quot;).attr(&#x27;checked&#x27;,false);
                    $(&#x27;.item-title input[type=&quot;checkbox&quot;]&#x27;,$(this)).attr(&#x27;checked&#x27;, true); 
                    giftval=$(&#x27;.item-title input[type=&quot;checkbox&quot;]&#x27;,$(this)).attr(&quot;id&quot;);
                    srcimg=$(&quot;.item-img img&quot;,$(this)).attr(&quot;src&quot;);                
                    name=$(&quot;.item-title span&quot;,$(this)).text();                 
                    price=$(&quot;.paper-price&quot;,$(this)).text();
                    $(&quot;.select-img img&quot;,cnt).attr(&quot;src&quot;,srcimg); 
                    $(&#x27;.paper-gift-top .gitf-image img&#x27;).attr(&quot;src&quot;,srcimg);  &#x2F;*&lt;------- 24185*&#x2F;
                    $(&quot;span:eq(0)&quot;,cnt).html(name);                 
                    $(&quot;span:eq(1)&quot;,cnt).html(price);                 
                });
                $(&quot;.confirmcard&quot;).live(&#x27;click&#x27;,function(){
                    $(&#x27;a.giftcard&#x27;).attr(&#x27;href&#x27;, yOSON.baseHost+&#x27;carrito&#x2F;tarjetas&#x2F;id&#x2F;&#x27;+giftval);
                    THAT.sumRest($(&#x27;#check-giftcard&#x27;).attr(&#x27;checked&#x27;), $.trim(price.replace(&#x27;S&#x2F;.&#x27;, &#x27;&#x27;)).replace(&#x27; &#x27;, &#x27;&#x27;), true);
                    chckcard.val(giftval);nm.html(name);pr.html(price);$.colorbox.close();
                });
            };  &#x2F;*alert(&quot;change-cardgift&quot;);*&#x2F;
            popup.colorbox({onComplete:function(){cardgift();}});
            $(&#x27;#check-giftcard&#x27;).bind(&#x27;click&#x27;, function(){
                THAT.sumRest($(this).attr(&#x27;checked&#x27;));
            });
           
        },
        
        sumRest : function(checked, nNeoPrec, outer){
            var nNeoPrec  = parseFloat(nNeoPrec);nNeoPrec=(isNaN(nNeoPrec))?0:nNeoPrec;
            
            var nPrecPaper= parseFloat( $(&quot;.add-gift&quot;).text().replace(&#x27;S&#x2F;.&#x27;,&#x27;&#x27;) );nPrecPaper=(isNaN(nPrecPaper))?0:nPrecPaper;

            var nPedTotal = parseFloat( $.trim($.trim($(&#x27;.total span&#x27;).text()).replace(&#x27;S&#x2F;.&#x27;, &#x27;&#x27;)).replace(&#x27; &#x27;, &#x27;&#x27;).replace(&#x27;,&#x27;, &#x27;&#x27;) );

            var delta;
            if(checked){
                if(nNeoPrec==0){Console.log(&#x27;999 - AQQUI!!&#x27;);delta = outer?(nPedTotal-nPrecPaper):(nPedTotal+nPrecPaper);}
                else{delta = (nPedTotal-nPrecPaper+nNeoPrec);}
            }else{delta = outer?nPedTotal:(nPedTotal-nPrecPaper);}
            
            if(nNeoPrec!=0){$(&quot;.add-gift&quot;).text(&#x27;S&#x2F;. &#x27; + nNeoPrec);}           

            $(&#x27;.total span&#x27;).text( &#x27;S&#x2F;. &#x27; + (Math.round((delta)*Math.pow(10,2))&#x2F;Math.pow(10,2)).toFixed(2) );
        },

        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
}, [&#x27;libs&#x2F;plugins&#x2F;jqColorBox.js&#x27;, &#x27;plugins&#x2F;jqColorBox.css&#x27;]);


&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: print-button
 * @Description: Funcionalidad boton imprimir
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;print-button&quot;, function(Sb){
    return {
        init: function(oParams){
            $(&#x27;.detail-print button[type=&quot;submit&quot;]&#x27;).bind(&#x27;click&#x27;, function(){window.print();});
        }
    };
});


&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: date-picker
 * @Description: Calendario UI date-picker
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;date-picker&quot;, function(Sb){     
    &#x2F;*Private Property : Para uso solo dentro del modulo*&#x2F;
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            var that = this; 
            var allData = {input:&#x27;#date&#x27;,anotherDate:&#x27;.another-date&#x27;,maxDate:&#x27;+1m +1w +1w&#x27;,minDate:0&#x2F;*,diasBloqueados:{0:[1]}*&#x2F;,diasGlobalesBloqueados:[]};
            var inpDate = $(allData.input);
            
            $.ajax({
                url     : yOSON.baseHost+&quot;carrito&#x2F;get-json-date-active&#x2F;b&#x2F;&quot;+( $.isNumeric( $.trim($(&#x27;#order&#x27;).val()) ) ? 0 : 1 ),
                type    : &#x27;get&#x27;,
                dataType: &#x27;json&#x27;,
                success : function(resp){
                    Console.log(&#x27;1030:success&#x27;);Console.log(resp);
                    allData.minDate = parseInt(resp.data);
                    inpDate.datepicker({&#x2F;*defaultDate: +3,*&#x2F;minDate: &quot;+&quot;+allData.minDate+&quot;d&quot;, maxDate: allData.maxDate, blockedDays: allData.diasBloqueados, blockedGlobalDays : allData.diasGlobalesBloqueados});
                    that.anotherDatePicker(inpDate, allData.anotherDate); 
                    $(&#x27;.another-date&#x27;).removeClass(&quot;hide&quot;);  
                    
                    &#x2F;&#x2F;$(&#x27;#date&#x27;).datepicker(&#x27;show&#x27;); 
                    &#x2F;&#x2F;Console.log($(&#x27;.ui-datepicker-calendar td:not(.ui-state-disabled)&#x27;)[0].innerHTML);
                    &#x2F;&#x2F;$($(&#x27;.ui-datepicker-calendar td:not(.ui-state-disabled)&#x27;)[0]).trigger(&#x27;click&#x27;);
                    &#x2F;&#x2F;$(&#x27;#ui-datepicker-div&#x27;).css(&#x27;display&#x27;,&#x27;none&#x27;);
                    &#x2F;&#x2F;document.getElementById(&quot;ui-datepicker-div&quot;).style.display = &quot;none&quot;;
                    &#x2F;&#x2F;Console.log(&#x27;=====&gt; element&#x27;);
                    &#x2F;&#x2F;Console.log($(&#x27;.ui-datepicker-calendar td:not(.ui-state-disabled)&#x27;)[0]);
                    &#x2F;&#x2F;$(&#x27;#date&#x27;).val($($(&#x27;.ui-datepicker-calendar td:not(.ui-state-disabled) a&#x27;)[0]).text());

                },
                error : function(resp){
                    Console.log(&#x27;1037:error&#x27;);Console.log(resp);
                    inpDate.datepicker({minDate: allData.minDate, maxDate: allData.maxDate, blockedDays: allData.diasBloqueados, blockedGlobalDays : allData.diasGlobalesBloqueados});
                    that.anotherDatePicker(inpDate, allData.anotherDate);
                    $(&#x27;.another-date&#x27;).removeClass(&quot;hide&quot;);
                }
            });

            

            this.textBloker(&#x27;#delivery_instructions&#x27;,&#x27;keyup&#x27;);
            this.textBloker(&#x27;#your_message&#x27;,&#x27;keyup&#x27;);

            this.textBloker(&#x27;#delivery_instructions&#x27;,&#x27;blur&#x27;);
            this.textBloker(&#x27;#your_message&#x27;,&#x27;blur&#x27;);
            

        },
        textBloker: function(a, b){

            $(a)[b](function(e){
                var currentText=$(this).val(),
                totalChars= 350,
                inputTextChars= currentText.length,
                remainingChars=(totalChars-inputTextChars),
                outputContent=&#x27;#&#x27;+ $(this).attr(&#x27;id&#x27;)+&#x27;-error&#x27;,
                youAre= &#x27;Tienes&#x27;,
                charAvailable= &#x27;caracteres disponibles&#x27;,
                charAllowed= &#x27;caracteres Permitidos&#x27;,
                andUseThe= &#x27;Ya estas usando&#x27;;

                if(remainingChars&gt;=0){
                    remainingChars=totalChars-inputTextChars;            
                    $(outputContent).fadeIn();
                    message=youAre+&#x27; &#x27;+remainingChars+&#x27; &#x27;+charAvailable+&#x27;.&#x27;;
                    if(remainingChars&lt;=0){
                        $(outputContent).fadeIn();
                        message=andUseThe+&#x27; &#x27;+totalChars+&#x27; &#x27;+charAllowed+&#x27;.&#x27;;
                    }
                }else{
                    if(remainingChars&lt;=0){
                        $(outputContent).fadeIn();
                        message=andUseThe+&#x27; &#x27;+totalChars+&#x27; &#x27;+charAllowed+&#x27;.&#x27;;
                    }
                $(this).val(currentText.substring(0,totalChars));
                }
                
               if($(&#x27;#&#x27;+$(this).attr(&#x27;id&#x27;)+&#x27;-error&#x27;).length){                    
                    $(&#x27;#&#x27;+$(this).attr(&#x27;id&#x27;)+&#x27;-error&#x27;).children(&#x27;li&#x27;).html(message);
                }else{                    
                    $(this).parent().append(&#x27;&lt;ul id=&quot;&#x27;+$(this).attr(&#x27;id&#x27;)+&#x27;-error&quot; class=&quot;errors&quot;&gt;&lt;li&gt;&#x27;+message+&#x27;&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;&#x27;);
                }                
            });

        },
        anotherDatePicker: function(inpDate, anotherDate){
            $(anotherDate).click(function(){
                inpDate.trigger(&#x27;focus&#x27;);
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
}, [&#x27;plugins&#x2F;start&#x2F;jquery-ui-1.8.22.custom.css&#x27;, &#x27;libs&#x2F;plugins&#x2F;jqDatepicker.js&#x27;]);


&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: select-dependent
 * @Description: Select dependent
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;select-dependent&#x27;, function(Sb){
    
    var domainServer = &#x27;http:&#x2F;&#x2F;&#x27;+document.domain;
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            
            &#x2F;*Console.log($(&#x27;#stateUbigeo option:selected&#x27;));*&#x2F;
            &#x2F;*if(!$(&#x27;#stateUbigeo option:selected&#x27;).text()){
                $(&#x27;#stateUbigeo option[label=&quot;LIMA&quot;]&#x27;).attr(&#x27;selected&#x27;,true).trigger(&#x27;change&#x27;,[&#x27;150100&#x27;, &#x27;150101&#x27;]);
            }*&#x2F;
            
            $(&#x27;#regaloDireccion&#x27;).change(function() { &#x2F;&#x2F;Console.log(&#x27;dir: &#x27;); Console.log(this);
                if($.trim($(this).val())!=&#x27;&#x27; &amp;&amp; $.trim($(this).val())!=&#x27;0&#x27;){   
                    $.ajax({
                        url     : domainServer+&#x27;&#x2F;carrito&#x2F;get-json-address&#x2F;id&#x2F;&#x27;+$(this).val(),
                        type    :&#x27;get&#x27;,		        
                        dataType:&#x27;json&#x27;,
                        success :function(res){
                            Console.log(&#x27;success-1090&#x27;);
                            if(res.status==&#x27;ok&#x27;){                                    
                                &#x2F;*Selecciona estado segun #regaloDireccion*&#x2F;
                                $(&quot;#stateUbigeo option&quot;).each(function(){                                                     
                                    if($(this).attr(&#x27;value&#x27;)==res.data.id_state){$(this).attr(&#x27;selected&#x27;,true);}
                                });
                                $(&quot;#stateUbigeo&quot;).trigger(&quot;change&quot;, [res.data.id_provinces, res.data.id_districts]);

                                $(&#x27;#nombre&#x27;).val(res.data.firstname);
                                $(&#x27;#apellido&#x27;).val(res.data.lastname);
                                $(&#x27;#direccion&#x27;).val(res.data.address1);
                                $(&#x27;#phone&#x27;).val(res.data.phone);
                                $(&#x27;#email&#x27;).val(res.data.email);

                            } else {$(&quot;#districtUbigeo&quot;).append(&#x27;&lt;option value=&quot;0&quot;&gt;No hay distritos disponibles&lt;&#x2F;option&gt;&#x27;);}                                
                        }
                    }); 
                }else{
                    Console.log($(&#x27;#stateUbigeo option[label=&quot;LIMA&quot;]&#x27;));
                    $(&#x27;#stateUbigeo option[label=&quot;LIMA&quot;]&#x27;).attr(&#x27;selected&#x27;,true).trigger(&#x27;change&#x27;,[&#x27;150100&#x27;, &#x27;150101&#x27;]);
                    $(&#x27;#nombre&#x27;).val(&#x27;&#x27;);
                    $(&#x27;#apellido&#x27;).val(&#x27;&#x27;);
                    $(&#x27;#direccion&#x27;).val(&#x27;&#x27;);
                    $(&#x27;#phone&#x27;).val(&#x27;&#x27;);
                    $(&#x27;#email&#x27;).val(&#x27;&#x27;);
                } 
            });
            
            $(&#x27;#stateUbigeo&#x27;).change(function(e, idProv, idDist){    
                &#x2F;*Console.log(&#x27;dep: &#x27;);Console.log(&#x27;idProv:&#x27;+idProv+&#x27; - idDist:&#x27;+idDist);*&#x2F;
                $.ajax({
                    url: domainServer+&#x27;&#x2F;carrito&#x2F;get-json-provinces&#x2F;id&#x2F;&#x27;+$(this).val(),
                    type:&#x27;get&#x27;, dataType:&#x27;json&#x27;,
                    success: function(res){
                        &#x2F;*Console.log(&#x27;dep:succ&#x27;);*&#x2F;
                        $(&quot;#provinciaUbigeo, #districtUbigeo&quot;).html(&quot;&quot;);
                        $(&quot;#districtUbigeo&quot;).append(&#x27;&lt;option value=&quot;0&quot;&gt;seleccionar&lt;&#x2F;option&gt;&#x27;);
                        if(res.status==&#x27;ok&#x27;){                                    
                            $.each(res.data, function(i,e){
                                $(&quot;#provinciaUbigeo&quot;).append( $(&#x27;&lt;option value=&quot;&#x27;+i+&#x27;&quot;&gt;&#x27;+e+&#x27;&lt;&#x2F;option&gt;&#x27;).attr(&#x27;selected&#x27;,(i==idProv)) );
                            });
                            $(&quot;#provinciaUbigeo&quot;).trigger(&#x27;change&#x27;, [idDist]);
                        }else{$(&quot;#provinciaUbigeo&quot;).append(&#x27;&lt;option value=&quot;0&quot;&gt;No hay provincias disponibles&lt;&#x2F;option&gt;&#x27;);}                                
                    }
                });                           
            });

            $(&#x27;#provinciaUbigeo&#x27;).change(function(e, idDist) {
                &#x2F;*Console.log(&#x27;prov: &#x27;);Console.log(this);*&#x2F;
                $.ajax({
                    url: domainServer+&#x27;&#x2F;carrito&#x2F;get-json-district&#x2F;id&#x2F;&#x27;+$(&#x27;#provinciaUbigeo option:selected&#x27;).val(),
                    type:&#x27;get&#x27;,		        
                    dataType: &#x27;json&#x27;,
                    success: function(res){
                        &#x2F;*Console.log(&#x27;prov:succ&#x27;);*&#x2F;
                        $(&quot;#districtUbigeo&quot;).html(&quot;&quot;);
                        if(res.status==&#x27;ok&#x27;){                                    
                            $.each(res.data, function(i,e){ 
                                $(&quot;#districtUbigeo&quot;).append( $(&#x27;&lt;option value=&quot;&#x27;+i+&#x27;&quot;&gt;&#x27;+e+&#x27;&lt;&#x2F;option&gt;&#x27;).attr(&#x27;selected&#x27;,(i==idDist)) );
                            });
                        }else{                                    
                            $(&quot;#districtUbigeo&quot;).append(&#x27;&lt;option value=&quot;0&quot;&gt;No hay distritos disponibles&lt;&#x2F;option&gt;&#x27;);
                        }                                
                    }
                });
                var pu_sucess = 1;
            });                
            &#x2F;*get data by address*&#x2F;
            if($(&#x27;#regaloDireccion&#x27;).val() != 0){$(&quot;#regaloDireccion&quot;).trigger(&#x27;change&#x27;);}

        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };

});

&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: Popup
 * @Description: Inicializa un popup
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;popup&#x27;, function(Sb){    
    var popup = $(&quot;.popup&quot;);    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){&#x2F;&#x2F;alert(&#x27;popup-init&#x27;);
            popup.colorbox();
            this.submitPay();
        },
                
        submitPay: function(){ &#x2F;&#x2F;alert(&#x27;submitPay&#x27;);
            var TIMER1 = null,TIMER2 = null;
            $(&#x27;#submit-pay&#x27;).bind(&#x27;click&#x27;, function(){  
                clearTimeout(TIMER1);clearTimeout(TIMER2);
                TIMER1 = setTimeout( function(){$(this).attr(&#x27;disabled&#x27;, true);}.bnd(this), 150);
                TIMER2 = setTimeout( function(){$(this).attr(&#x27;disabled&#x27;, false);}.bnd(this), 20000);
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
}, [&#x27;libs&#x2F;plugins&#x2F;jqColorBox.js&#x27;, &#x27;plugins&#x2F;jqColorBox.css&#x27;]);
&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: Accordion
 * @Description: Inicializa un efecto acordeon
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;accordion&#x27;, function(Sb){    
    var slip = $(&quot;.accordion&quot;); 
    var id;
    return {        
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){ 
            slip.click(function(){			
                id=$(this).attr(&quot;data-id&quot;);
                if($(this).hasClass(&quot;active&quot;)){
                    $(this).removeClass(&quot;active&quot;);
                }else{
                    $(this).addClass(&quot;active&quot;);
                }                
                $(id).slideToggle();
            });		
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
});
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
