<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>application&#x2F;yoson.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/admin.html">admin</a></li>
            
                <li><a href="..&#x2F;classes/all-modules.html">all-modules</a></li>
            
                <li><a href="..&#x2F;classes/default.html">default</a></li>
            
                <li><a href="..&#x2F;classes/jcarousel.html">jcarousel</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.AutoSave.html">tinymce.plugins.AutoSave</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.ContextMenu.html">tinymce.plugins.ContextMenu</a></li>
            
                <li><a href="..&#x2F;classes/usuario.html">usuario</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/ad-actions.html">ad-actions</a></li>
            
                <li><a href="..&#x2F;modules/add-class-middle.html">add-class-middle</a></li>
            
                <li><a href="..&#x2F;modules/add-favorites.html">add-favorites</a></li>
            
                <li><a href="..&#x2F;modules/all-checked-uncheked.html">all-checked-uncheked</a></li>
            
                <li><a href="..&#x2F;modules/banner-top classified.html">banner-top classified</a></li>
            
                <li><a href="..&#x2F;modules/carousel-products.html">carousel-products</a></li>
            
                <li><a href="..&#x2F;modules/count-word.html">count-word</a></li>
            
                <li><a href="..&#x2F;modules/data-ubigeo.html">data-ubigeo</a></li>
            
                <li><a href="..&#x2F;modules/geotags.html">geotags</a></li>
            
                <li><a href="..&#x2F;modules/impress-ad-list.html">impress-ad-list</a></li>
            
                <li><a href="..&#x2F;modules/lightbox-logIn-signUp.html">lightbox-logIn-signUp</a></li>
            
                <li><a href="..&#x2F;modules/moduleName.html">moduleName</a></li>
            
                <li><a href="..&#x2F;modules/placeholder.html">placeholder</a></li>
            
                <li><a href="..&#x2F;modules/preview-impress.html">preview-impress</a></li>
            
                <li><a href="..&#x2F;modules/register-category.html">register-category</a></li>
            
                <li><a href="..&#x2F;modules/remove-class-home.html">remove-class-home</a></li>
            
                <li><a href="..&#x2F;modules/report-ad.html">report-ad</a></li>
            
                <li><a href="..&#x2F;modules/scrollTop.html">scrollTop</a></li>
            
                <li><a href="..&#x2F;modules/search-categories.html">search-categories</a></li>
            
                <li><a href="..&#x2F;modules/send-ad-friend.html">send-ad-friend</a></li>
            
                <li><a href="..&#x2F;modules/send-list-ad-email.html">send-list-ad-email</a></li>
            
                <li><a href="..&#x2F;modules/show-advanced-search.html">show-advanced-search</a></li>
            
                <li><a href="..&#x2F;modules/show-example-ads.html">show-example-ads</a></li>
            
                <li><a href="..&#x2F;modules/show-login-trigger.html">show-login-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-photo-products.html">show-photo-products</a></li>
            
                <li><a href="..&#x2F;modules/show-popup.html">show-popup</a></li>
            
                <li><a href="..&#x2F;modules/show-questions.html">show-questions</a></li>
            
                <li><a href="..&#x2F;modules/show-register-trigger.html">show-register-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-video.html">show-video</a></li>
            
                <li><a href="..&#x2F;modules/showMoreCategories.html">showMoreCategories</a></li>
            
                <li><a href="..&#x2F;modules/some-module4.html">some-module4</a></li>
            
                <li><a href="..&#x2F;modules/tinymce-register.html">tinymce-register</a></li>
            
                <li><a href="..&#x2F;modules/uploader-photos.html">uploader-photos</a></li>
            
                <li><a href="..&#x2F;modules/validate.html">validate</a></li>
            
                <li><a href="..&#x2F;modules/validate-document.html">validate-document</a></li>
            
                <li><a href="..&#x2F;modules/validate-image.html">validate-image</a></li>
            
                <li><a href="..&#x2F;modules/venta.html">venta</a></li>
            
                <li><a href="..&#x2F;modules/yOSON.html">yOSON</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: application&#x2F;yoson.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
Copyright(c) 2011 yOSON &lt;&lt;evangelizandolaweb@gmail.com&gt;&gt; &lt;br&gt;
yOSON developers &lt;&lt;evangelizandolaweb@groups.facebook.com&gt;&gt;

 MIT Licensed

 Includes:
 
  - yOSON.AppCore
  - yOSON.AppSandbox
  - yOSON.AppScript

Syntax by: yui.github.com&#x2F;yuidoc&#x2F;syntax&#x2F;index.html

@module yOSON
@since 0.1.0
**&#x2F;



&#x2F;*!
 *
 * yOSON AppSandbox
 *
 * @Description: Gestiona todos los oyentes y los notificadores de la aplicación
 * @type Object
 *
 *&#x2F;
yOSON.AppSandbox = function(){
    return {
        &#x2F;* @member Sandbox *&#x2F;
        &#x2F;*notifica un evento para todos los m�dulos que escuchan el evento*&#x2F;
        &#x2F;*oTrigger.event @type String   oTrigger.data @type Array   ejemplo: { event:&#x27;hacer-algo&#x27;, data:{name:&#x27;jose&#x27;, edad:27} }*&#x2F;
        trigger: function(sType, aData){Console.log(&#x27;|trigger--&gt;&#x27;); Console.log(aData);		
            var oAction;
            if(typeof(yOSON.AppSandbox.aActions[sType])!=&quot;undefined&quot;){ &#x2F;*Si existe en las acciones*&#x2F;
                var nLenActions = yOSON.AppSandbox.aActions[sType].length;
                for(var nAction = 0; nAction &lt; nLenActions; nAction++){
                    oAction = yOSON.AppSandbox.aActions[sType][nAction];  &#x2F;*oAction &lt;&gt; {module:oModule, handler:fpHandler}*&#x2F;
                    oAction.handler.apply(oAction.module, aData);     &#x2F;*handler ??*&#x2F;
                }
            }
        },
        &#x2F;*Sandbox.stopEvents deja de escuchar algunos eventos en cualquier modulo*&#x2F;
        stopEvents: function(aEventsToStopListen,oModule){
            var aAuxActions = [];
            var nLenEventsToListen=aEventsToStopListen.length;
            
            for(var nEvent=0; nEvent &lt; nLenEventsToListen; nEvent++){
                var sEvent = aEventsToStopListen[nEvent];
                var nLenActions = yOSON.AppSandbox.aActions[sEvent].length;
                for(var nAction = 0; nAction &lt; nLenActions; nAction++){
                    if(oModule != yOSON.AppSandbox.aActions[sEvent][nAction].module){
                        aAuxActions.push(yOSON.AppSandbox.aActions[sEvent][nAction]);
                    }
                }
                yOSON.AppSandbox.aActions[sEvent] = aAuxActions;
                if(yOSON.AppSandbox.aActions[sEvent].length == 0){delete yOSON.AppSandbox.aActions[sEvent];}
            }

        },
        &#x2F;*this.event  empieza a escuchar algunos eventos en cualquier módulo*&#x2F;
        events: function(aEventsToListen, fpHandler, oModule){ Console.log(&#x27;|events--&gt;&#x27;); Console.log(fpHandler);		
            var nLenEventsToListen = aEventsToListen.length;
            for(var nEvent = 0; nEvent &lt; nLenEventsToListen; nEvent++){
                var sEvent = aEventsToListen[nEvent];
                if(typeof yOSON.AppSandbox.aActions[sEvent] == &quot;undefined&quot;){ &#x2F;*Si no existe en las acciones*&#x2F;
                    yOSON.AppSandbox.aActions[sEvent] = [];
                }
                Console.log(&quot;Sandbox-listen - line:45 - notifyListen:&quot;+sEvent+&quot; &lt;--&gt; module:&quot;+oModule);
                yOSON.AppSandbox.aActions[sEvent].push({module:oModule, handler:fpHandler}); 
            }return this;
        },
        &#x2F;*debe utilizarse para realizar llamadas ajax dentro de los modulos*&#x2F;
        request: function(sUrl, oData, oHandlers, sDatatype){
            Core.ajaxCall(sUrl,oData,oHandlers,sDatatype);
        }
    };
};
&#x2F;*Sandbox.aActions is the static variable that stores all the listeners of all the modules*&#x2F;
yOSON.AppSandbox.aActions = [];


&#x2F;*!
 *
 * yOSON AppScript
 *
 * @Description: Carga script Javascript o Css en la pagina para luego ejecutar funcionalidades dependientes.
 * @Dependency : yOSON.AppSandbox &amp; yOSON.AppScript in appSandBox.js
 * @Usage yOSON.AppScript.charge(&#x27;lib&#x2F;plugins&#x2F;colorbox.js,plugins&#x2F;colorbox.css&#x27;, function(){ load! } );
 *
 *&#x2F;

yOSON.AppScript = (function(statHost, filesVers){

    var urlDirJs  = &quot;&quot;;    &#x2F;*Directorio relativo Js*&#x2F;
    var urlDirCss = &quot;&quot;;    &#x2F;*Directorio relativo Css*&#x2F;
    var version   = &quot;&quot;;    &#x2F;*Release version*&#x2F;
    var ScrFnc    = {&#x2F;**&#x2F;}; &#x2F;* u_r_l:{state:true, fncs:[fn1,..]} Funciones y estado para un script cargandose*&#x2F;
    
    &#x2F;* Constructor *&#x2F;
    (function(url, vers){
        urlDirJs=url+&#x27;f&#x2F;js&#x2F;&#x27;;  urlDirCss=url+&#x27;f&#x2F;css&#x2F;&#x27;;  version=(false)?vers:&#x27;&#x27;;
    })(statHost, filesVers);
    
    &#x2F;* Convierte una cadena url separada de _ *&#x2F;
    var codear = function(url){  
        return (url.indexOf(&#x27;&#x2F;&#x2F;&#x27;)!=-1)?url.split(&#x27;&#x2F;&#x2F;&#x27;)[1].replace(&#x2F;[\&#x2F;\.\:]&#x2F;g,&#x27;_&#x27;):url.replace(&#x2F;[\&#x2F;\.\:]&#x2F;g,&#x27;_&#x27;);
    };

    &#x2F;* Agregando funciones para ejecutar una vez cargado el Script *&#x2F;
    var addFnc = function(url, fnc){
        if( !ScrFnc.hasOwnProperty(codear(url)) ){
            ScrFnc[codear(url)]={state:true, fncs:[]};&#x2F;* State:true, para seguir agregando mas funcs a fncs) *&#x2F;
        } ScrFnc[codear(url)].fncs.push(fnc);
    };  
    &#x2F;* Ejecuta las funciones aosciadas a un script *&#x2F;
    var execFncs = function(url){
        ScrFnc[codear(url)].state = false;
        for(var i=0; i&lt;ScrFnc[codear(url)].fncs.length; i++){
            if(ScrFnc[codear(url)].fncs[i]==&#x27;undefined&#x27;){Console.log(ScrFnc[codear(url)].fncs[i])}
            ScrFnc[codear(url)].fncs[i]();
        }
    };

    &#x2F;* Cargador de Javascript *&#x2F;
    var loadJs = function(url, fnc){
        var scr = document.createElement(&quot;script&quot;);
        scr.type = &quot;text&#x2F;javascript&quot;;
        if(scr.readyState){  &#x2F;*IE*&#x2F;
            scr.onreadystatechange = function(){
                if(scr.readyState==&quot;loaded&quot; || scr.readyState==&quot;complete&quot;){ scr.onreadystatechange=null; fnc(url); }
            };
        }else{ scr.onload=function(){fnc(url);} }
        scr.src = url;
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(scr);
    };
    
    &#x2F;* @description Cargador de Css *&#x2F;
    var loadCss = function(url, fnc){ &#x2F;*Para WebKit (FF, Opera ...)*&#x2F;
        var link = document.createElement(&#x27;link&#x27;);
        link.type=&#x27;text&#x2F;css&#x27;;link.rel=&#x27;stylesheet&#x27;;link.href=url;
        document.getElementsByTagName(&#x27;head&#x27;)[0].appendChild(link);
        
        if(document.all){link.onload=function(){Console.log(this);fnc(url);}}
        else{
            var img=document.createElement(&#x27;img&#x27;);img.src=url;
            img.onerror=function(){
                if(fnc){fnc(url);}document.body.removeChild(this);
            }
            document.body.appendChild(img);             
        }
    };

    &#x2F;* @description Carga el Script (js o css para luego ejecutar funcionalidades asociadas)
     * @dependency  Es necesario tener implementado el metodo remove extendido al objeto array
     **&#x2F;
    return {
        charge : function(aUrl, fFnc, sMod, lev){
            var THAT = this;  &#x2F;*Referencia a este objeto*&#x2F;
            if(aUrl.length==0||aUrl==&#x27;undefined&#x27;||aUrl==&#x27;&#x27;){return false;} &#x2F;*aUrl no valido*&#x2F;
            if(aUrl.constructor.toString().indexOf(&#x27;Array&#x27;)!=-1 &amp;&amp; aUrl.length==1){var aUrl = aUrl[0];} &#x2F;*Array de 1 elemento*&#x2F;

            var lev = (typeof(lev)!=&#x27;number&#x27;)?1:lev;   &#x2F;*Nivel de anidamiento en esta funcion*&#x2F;
            Console.log(&#x27;[mod:&#x27;+sMod+&#x27;][level:&#x27;+lev+&#x27;][script:&#x27;+aUrl+&#x27;]&#x27;, ( aUrl.indexOf &amp;&amp; aUrl.indexOf(&#x27;ColorB&#x27;)!=-1 )); &#x2F;*Debug niveles de anidamiento*&#x2F;

            if(aUrl.constructor.toString().indexOf(&#x27;String&#x27;)!=-1){    &#x2F;*Si es una String*&#x2F;

                var isJs   = (aUrl.indexOf(&#x27;.js&#x27;) !=-1); &#x2F;*Es script Js*&#x2F;
                var isCss  = (aUrl.indexOf(&#x27;.css&#x27;)!=-1); &#x2F;*Es script Css*&#x2F;
                if(!isJs &amp;&amp; !isCss)return false;         &#x2F;*Si no es un script css o js termina la ejecucion*&#x2F;

                var urlDir = isJs?urlDirJs:urlDirCss;

                if(isJs||isCss){  &#x2F;* Si se va a cargar un Css o Js*&#x2F;
                    var aUrl = (aUrl.indexOf(&#x27;http&#x27;)!=-1) ? (aUrl+version) : (urlDir+aUrl+version);
                    if( !ScrFnc.hasOwnProperty(codear(aUrl)) ){  &#x2F;* Si es que no esta Registrado el script*&#x2F;
                        addFnc(aUrl, fFnc);isJs?loadJs(aUrl, execFncs):loadCss(aUrl, execFncs); &#x2F;*neoScr(url, true) true?? no va creo?*&#x2F;
                    }else{                      &#x2F;* Si se va a cargar un CSS*&#x2F;
                        if(ScrFnc[codear(aUrl)].state){addFnc(aUrl,fFnc)}else{ fFnc(); }
                    }
                }&#x2F;*Console.log(ScrFnc);*&#x2F;
            }else{
                if(aUrl.constructor.toString().indexOf(&#x27;Array&#x27;)!=-1){  &#x2F;*Si es una Array de 2 a mas aelementos (Arrba de valida 0 a 1 elementos)*&#x2F;
                    this.charge(aUrl[0], function(){Console.log((lev+1),(sMod.indexOf(&#x27;popup&#x27;)!=-1));
                        THAT.charge(aUrl.remove(0), fFnc, sMod, (lev+2))
                    }, sMod, (lev+1));
                }else{Console.log(aUrl+&#x27; - no es un Array&#x27;);}
            }
        
        }
    };
   
})(yOSON.statHost, yOSON.statVers);


&#x2F;*!
 *
 * yOSON AppCore
 *
 * @Description: Codigo para la manipulacion de los modulos en la aplicacion
 * @Dependency : yOSON.AppSandbox &amp; yOSON.AppScript in appSandBox.js
 *
 *&#x2F;
yOSON.AppCore = (function(){
    &#x2F;*&quot;use strict&quot;;*&#x2F;
    &#x2F;*@member Core*&#x2F;
    var oSandBox = new yOSON.AppSandbox(); &#x2F;*@private Entorno de trabajo de todos los modulos (Caja de arena)*&#x2F;
    var oModules = {};                      &#x2F;*@private Almacena todos los modulos registrados*&#x2F;
    var debug    = false;                   &#x2F;*@private Habilitar-Deshabilitar modo de depuracion*&#x2F;
    window.cont = 0;
    &#x2F;*@private crea instancia del módulo al ejecutar AppCore.start *&#x2F;
    &#x2F;*@return Instacia del modulo*&#x2F;
    var doInstance = function(sModuleId){
        &#x2F;*metodo creator se asigna a un modulo al llamar al registrar un modulo con el metodo register del AppCore*&#x2F; 
        var instance = oModules[sModuleId].definition( oSandBox );
        var name, method;
        if(!debug){
            for(name in instance){
                method = instance[name];
                if(typeof method == &quot;function&quot;){
                    instance[name] = function(name, method){
                        return function(){
                            try{return method.apply(this,arguments);}catch(ex){Console.log(name + &quot;(): &quot; + ex.message);}
                        };
                    }(name, method);
                }
            }
        } return instance; &#x2F;*retornamos la Instancia del modulo*&#x2F;
    };
    
    return {
        &#x2F;*path.module*&#x2F;
        addModule: function(sModuleId, fDefinition, aDep){  
            var aDep = (typeof(aDep)==&#x27;undefined&#x27;) ? [] : aDep;
            if(typeof(oModules[sModuleId])==&#x27;undefined&#x27;){
                oModules[sModuleId]={definition:fDefinition, instance:null, dependency:aDep}; &#x2F;*Console.log(oModules[sModuleId].definition);*&#x2F;
            }else{ throw &#x27;module &quot;&#x27;+sModuleId+&#x27;&quot; is already defined, Please set it again&#x27;; }
        },
        
        getModule: function(sModuleId){
            if (sModuleId &amp;&amp; oModules[sModuleId]){ return oModules[sModuleId]; }
            else{ throw &#x27;structureline58 param &quot;sModuleId&quot; is not defined or module not found&#x27;; }
        },
        
        runModule: function(sModuleId, oParams){
            
            if(oModules[sModuleId]!==undefined){
                
                if(oParams === undefined){ var oParams = {}; }
                oParams.moduleName = sModuleId;  &#x2F;*Un primer valor de oParams*&#x2F;
                var mod = this.getModule(sModuleId);
                var thisInstance = mod.instance = doInstance(sModuleId); 
                
                if(thisInstance.hasOwnProperty(&#x27;init&#x27;)){   &#x2F;*if(sModuleId==&#x27;modal-images&#x27;)Console.log(&#x27;hay init()&#x27;);*&#x2F;  
                    Console.log(&#x27;|runModule&#x27;+(++window.cont)+&#x27;|:---&gt; &#x27;+sModuleId);
                    if(mod.dependency.length&gt;0){  &#x2F;*if(sModuleId==&#x27;modal-images&#x27;)Console.log(&#x27;core60---&gt; length:&#x27;+mod.dependency.length);*&#x2F;
                        yOSON.AppScript.charge([].copy(mod.dependency), function(){ thisInstance.init(oParams); }, sModuleId+window.cont, 1);
                    }else{ thisInstance.init(oParams); }
                    
                }else{ throw &#x27; ---&gt; init function is not defined in the module &quot;&#x27;+oModules[sModuleId]+&#x27;&quot;&#x27;; }
                
            }else{ throw &#x27;module &quot;&#x27;+sModuleId+&#x27;&quot; is not defined or module not found&#x27;; }
        },
        
        runModules: function(aModuleIds){
            for(var id in aModuleIds){ this.runModule(aModuleIds[id]); }
        }
    }
})();
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
