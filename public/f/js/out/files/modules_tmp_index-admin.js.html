<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>modules&#x2F;tmp&#x2F;index-admin.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/admin.html">admin</a></li>
            
                <li><a href="..&#x2F;classes/all-modules.html">all-modules</a></li>
            
                <li><a href="..&#x2F;classes/default.html">default</a></li>
            
                <li><a href="..&#x2F;classes/jcarousel.html">jcarousel</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.AutoSave.html">tinymce.plugins.AutoSave</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.ContextMenu.html">tinymce.plugins.ContextMenu</a></li>
            
                <li><a href="..&#x2F;classes/usuario.html">usuario</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/ad-actions.html">ad-actions</a></li>
            
                <li><a href="..&#x2F;modules/add-class-middle.html">add-class-middle</a></li>
            
                <li><a href="..&#x2F;modules/add-favorites.html">add-favorites</a></li>
            
                <li><a href="..&#x2F;modules/all-checked-uncheked.html">all-checked-uncheked</a></li>
            
                <li><a href="..&#x2F;modules/banner-top classified.html">banner-top classified</a></li>
            
                <li><a href="..&#x2F;modules/carousel-products.html">carousel-products</a></li>
            
                <li><a href="..&#x2F;modules/count-word.html">count-word</a></li>
            
                <li><a href="..&#x2F;modules/data-ubigeo.html">data-ubigeo</a></li>
            
                <li><a href="..&#x2F;modules/geotags.html">geotags</a></li>
            
                <li><a href="..&#x2F;modules/impress-ad-list.html">impress-ad-list</a></li>
            
                <li><a href="..&#x2F;modules/lightbox-logIn-signUp.html">lightbox-logIn-signUp</a></li>
            
                <li><a href="..&#x2F;modules/moduleName.html">moduleName</a></li>
            
                <li><a href="..&#x2F;modules/placeholder.html">placeholder</a></li>
            
                <li><a href="..&#x2F;modules/preview-impress.html">preview-impress</a></li>
            
                <li><a href="..&#x2F;modules/register-category.html">register-category</a></li>
            
                <li><a href="..&#x2F;modules/remove-class-home.html">remove-class-home</a></li>
            
                <li><a href="..&#x2F;modules/report-ad.html">report-ad</a></li>
            
                <li><a href="..&#x2F;modules/scrollTop.html">scrollTop</a></li>
            
                <li><a href="..&#x2F;modules/search-categories.html">search-categories</a></li>
            
                <li><a href="..&#x2F;modules/send-ad-friend.html">send-ad-friend</a></li>
            
                <li><a href="..&#x2F;modules/send-list-ad-email.html">send-list-ad-email</a></li>
            
                <li><a href="..&#x2F;modules/show-advanced-search.html">show-advanced-search</a></li>
            
                <li><a href="..&#x2F;modules/show-example-ads.html">show-example-ads</a></li>
            
                <li><a href="..&#x2F;modules/show-login-trigger.html">show-login-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-photo-products.html">show-photo-products</a></li>
            
                <li><a href="..&#x2F;modules/show-popup.html">show-popup</a></li>
            
                <li><a href="..&#x2F;modules/show-questions.html">show-questions</a></li>
            
                <li><a href="..&#x2F;modules/show-register-trigger.html">show-register-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-video.html">show-video</a></li>
            
                <li><a href="..&#x2F;modules/showMoreCategories.html">showMoreCategories</a></li>
            
                <li><a href="..&#x2F;modules/some-module4.html">some-module4</a></li>
            
                <li><a href="..&#x2F;modules/tinymce-register.html">tinymce-register</a></li>
            
                <li><a href="..&#x2F;modules/uploader-photos.html">uploader-photos</a></li>
            
                <li><a href="..&#x2F;modules/validate.html">validate</a></li>
            
                <li><a href="..&#x2F;modules/validate-document.html">validate-document</a></li>
            
                <li><a href="..&#x2F;modules/validate-image.html">validate-image</a></li>
            
                <li><a href="..&#x2F;modules/venta.html">venta</a></li>
            
                <li><a href="..&#x2F;modules/yOSON.html">yOSON</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: modules&#x2F;tmp&#x2F;index-admin.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;************************************************************************************************\
 * index.js - Modulos                                                                           *
 * Module    : default                                                                          *
 * Controller: index                                                                            *
 *                                                                                              *
 * Company: Perucomsultores.pe                                                                  *
 * Authors: Jaime Rodriguez                                                                     *
 *          Jan Sanchez A.                                                                      *
 *          Andres Mu√±oz                                                                        *
 *          Erik Flores                                                                         *
 *          Brayan Borda                                                                        *
 ************************************************************************************************&#x2F;
&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: slide-toogle
 * @Description: Toogle
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;slide-toogle&quot;, function(Sb){
    var slide  = $(&quot;.slide-toogle&quot;);
    var id;
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            slide.click(function(obj){
                if(!$(obj.target).hasClass(&quot;notbind&quot;)){
                    id=$(this).attr(&quot;data-id&quot;);
                    if($(this).hasClass(&quot;active&quot;)){
                        $(this).removeClass(&quot;active&quot;);
                    }else{
                        $(this).addClass(&quot;active&quot;);
                    }               
                    $(id).slideToggle();
                }
            });            
        },
        &#x2F;*Public method : Implementacion de alguna funcionalidad asociada a este modulo.*&#x2F;
        other: function(){  },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };

});
&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: menu
 * @Description: menu
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;menu&quot;, function(Sb){
    var menu  = $(&quot;#menu&quot;).children(&#x27;li&#x27;);
    var submenu=$(&quot;#menu ul&quot;);
    var menuactive=$(&quot;#menu .active&quot;).siblings(&quot;ul&quot;);
    var position,left;
    return {
    &#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        currentMenu:function(){
            submenu.hide();
            menuactive.show();
        },
        init: function(oParams){
            var that=this;
            that.currentMenu();
            $.each(menu,function(index,element){
                position=$(element).position();
                left=644-position.left;
                $(&quot;ul&quot;,$(element)).css(&quot;width&quot;,left);
            });
            menu.mouseenter(function(){
                if($(&quot;ul&quot;,this).length){
                    submenu.hide();
                    $(&quot;ul&quot;,this).show();
                }
            }).mouseleave(function(){
                that.currentMenu();
            });
        },       
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
});

&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: nav-tree
 * @Description: menu
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;nav-tree&quot;, function(Sb){
    var tree=$(&quot;.category h2, .subcat h3&quot;);
    return {
    &#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            
            tree.live(&#x27;click&#x27;, function(evt){
                if($(evt.target).attr(&#x27;type&#x27;)==undefined){
                    if($(this).hasClass(&quot;active&quot;)){
                        $(this).removeClass(&quot;active&quot;);
                    } else {
                        $(this).addClass(&quot;active&quot;);
                    }
                    $(this).siblings(&quot;ul&quot;).slideToggle();
                }
            });
            
        },       
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
});


&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: State Order
 * @Description: menu
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;state-order&#x27;, function(Sb){
    var select=$(&quot;.select-state&quot;),popup;
    return {
    &#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
         init: function(oParams){
                select.bind(&quot;change&quot;,function(){
                    popup=$(this).val();
                    if($(popup).length){
                        $.colorbox({inline:true,href:popup});
                    }
                });
        },       
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqColorBox.js&#x27;, &#x27;plugins&#x2F;jqColorBox.css&#x27;]);

&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: product-manage-image
 * @Description: menu
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;product-manage-image&quot;, function(Sb){
    var tree=$(&quot;.category h2, .subcat h3&quot;);
    var inst;
    return {
    &#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){

            var productPath=&#x27;product&#x2F;tmp&#x2F;&#x27;,
            addImgUrl = yOSON.baseHost+&#x27;admin&#x2F;producto&#x2F;agregar-imagen&#x2F;id&#x2F;1&#x27;,
            delImgUrl = yOSON.baseHost+&#x27;admin&#x2F;producto&#x2F;delete-img-tmp&#x2F;img&#x2F;&#x27;,
            extension = &#x27;.jpg&#x27;,
            dom = {
                frm: &#x27;frmConfis&#x27;,
                parentRight: &#x27;.fielset-content-right&#x27;,
                parentLeft: &#x27;.fielset-content-left&#x27;,
                inputFile: &#x27;#image-uploader&#x27;,
                inputDesc: &#x27;#img-description&#x27;,
                btnAdd: &#x27;#addProductImage&#x27;
            },
            options = {
                frm: dom.frm,
                onComplete: function (json){
                    var data = $.parseJSON(json);

                    $(dom.inputFile).val(&#x27;&#x27;);
                    $padre = $(dom.inputFile).parent();
                    $hijo = $(dom.inputFile);
                    $padre.html(&#x27;&#x27;);
                    $padre.append($hijo);

                    $(&#x27;#&#x27;+dom.frm).attr(&#x27;action&#x27;,&#x27;&#x27;);
                    $(&#x27;#&#x27;+dom.frm).attr(&#x27;target&#x27;, &#x27;&#x27;);

                    $(dom.inputDesc).val(&#x27;&#x27;);

                    if (data[&quot;status&quot;]==1){
                        $(dom.parentRight).append(&#x27;&lt;div class=&quot;w170&quot; id=&quot;&#x27;+data[&quot;url&quot;]+&#x27;&quot;&gt;&lt;div class=&quot;options&quot;&gt;&lt;div class=&quot;item-del&quot;&gt;&lt;a title=&quot;eliminar&quot; href=&quot;javascript:;&quot;&gt;&lt;img class=&quot;&quot; alt=&quot;eliminar&quot; src=&quot;&#x27;+yOSON.statHost+&#x27;img-admin&#x2F;remove.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;div&gt;&lt;div class=&quot;item-fav&quot;&gt;&lt;a title=&quot;default&quot; href=&quot;javascript:;&quot;&gt;&lt;img class=&quot;&quot; alt=&quot;default&quot; src=&quot;&#x27;+yOSON.statHost+&#x27;img-admin&#x2F;fav.png&quot;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;&lt;a title=&quot;imagen&quot; href=&quot;javascript:;&quot;&gt;&lt;img class=&quot;main-class&quot; alt=&quot;imagen&quot; src=&quot;&#x27;+yOSON.eHost+productPath+data[&quot;url&quot;]+extension+&#x27;&quot;&gt;&lt;&#x2F;a&gt;&lt;p&gt;&#x27;+data[&quot;description&quot;]+&#x27;&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;&#x27;);
                        $(dom.parentRight).trigger(&#x27;change&#x27;);
                    }else{
                        Console.log(data[&quot;status&quot;]);
                    }
                }
            }

            $(dom.btnAdd).click(function(){
                $(&#x27;#&#x27;+dom.frm).attr(&#x27;action&#x27;, addImgUrl);               
                $.fn.iframeUp(&#x27;submit&#x27;, options);
            });

            var options2 = {
                frm: &#x27;#&#x27;+dom.frm,
                parentRight: dom.parentRight,
                parentLeft: dom.parentLeft,
                url_del: delImgUrl
            };

            $.fn.pictureManager(options2);

        },       
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };

}, [&#x27;libs&#x2F;plugins&#x2F;jqUploader.js&#x27;, &#x27;libs&#x2F;plugins&#x2F;jqPictureManager.js&#x27;, &#x27;libs&#x2F;plugins&#x2F;ui.js&#x27;]);

&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : Validate Form
 * @Description: Validacion de formularios 
 * para mas detalle consultar 
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;validation&#x27;, function(Sb){
    
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            $(oParams.form).validate({
                ignore  : &#x27;&#x27;,
                rules   :requires[oParams.form].rules,
                messages:requires[oParams.form].messages, &#x2F;*,
                errorPlacement: function(error, element){
                    &#x2F;&#x2F;alert(&#x27;ERROr!!&#x27;);
                }*&#x2F;
                errorPlacement: function(error, element){
                    $(element).parent().append(error);
                },
                invalidHandler:(requires[oParams.form].hasOwnProperty(&#x27;invalidHandler&#x27;)) ? requires[oParams.form].invalidHandler : function(){}
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
}, [&#x27;libs&#x2F;plugins&#x2F;jqValidate.js&#x27;]);

&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: Editor WYSIWYG
 * @Description: menu
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;tabs-products&quot;, function(Sb){
    var tabs  = $(&#x27;#frmConfis .content-tabs&#x27;);
    var links = $(&#x27;.nav-options li a&#x27;);
    var fields = $(&#x27;#precio_proveedor, #precio_base, #porcentaje_ganancia&#x27;); &#x2F;*, #venta_sin_igv, #venta_con_igv*&#x2F;
    var oShop = $(&#x27;#id_shop&#x27;);
    return {
        &#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            &#x2F;*Funcionalidad de los link tipo tabs*&#x2F;
            &#x2F;&#x2F;Console.log(tabs);
            links.each(function(i,lnk){
                $(lnk).bind(&#x27;click&#x27;, (function(index){
                    return function(evt){
                        evt.preventDefault();Console.log(tabs.get(index));
                        tabs.fadeOut(400);
                        $(tabs.get(index)).fadeIn(400);
                    };
                })(i));
            });
            this.doWysiwyg();
            &#x2F;*Campos que seran enteros*&#x2F;
            fields.add(&#x27;#venta_con_igv&#x27;).numeric({negative:false, decimal:&#x27;.&#x27;, length:10});
            fields.add(&#x27;#venta_con_igv&#x27;).bind(&#x27;keyup&#x27;, this.doCalcule );this.doCalcule(); &#x2F;*Calculando al hacer load*&#x2F;
            this.doTree();
        },
        
        doCalcule : function(){
            var pB  = $.trim($(&#x27;#precio_base&#x27;).val());
            var vPB = (pB==&quot;&quot;) ? 0 : parseFloat(pB);$(&#x27;#venta_con_igv&#x27;).attr(&#x27;readonly&#x27;,(vPB&lt;=0)); &#x2F;&#x2F;PV    = PB*(1+%G)   &#x2F;&#x2F;PVIgv = PV*(1.18)
            Console.log(this);
            var inpVCI = ($(this).attr(&#x27;id&#x27;)==&#x27;venta_con_igv&#x27;); &#x2F;*Input en el que se esta escribiendo*&#x2F;
            if(!inpVCI){
                var pG  = $.trim($(&#x27;#porcentaje_ganancia&#x27;).val());
                var vPG = (pG==&quot;&quot;) ? 0 : parseFloat(pG);
                $(&#x27;#venta_sin_igv&#x27;).val( Math.round( (vPB*(1+(vPG&#x2F;100)))*Math.pow(10,2) )&#x2F;Math.pow(10,2) );
                $(&#x27;#venta_con_igv&#x27;).val( Math.round( parseFloat( $(&#x27;#venta_sin_igv&#x27;).val() )*1.18*Math.pow(10,2) )&#x2F;Math.pow(10,2) );
            }else{
                var pVCI  = $.trim($(&#x27;#venta_con_igv&#x27;).val());
                var vPVCI = (pVCI==&quot;&quot;)? 0 : parseFloat(pVCI);
                $(&#x27;#porcentaje_ganancia&#x27;).val( Math.round( ( parseFloat(vPVCI)&#x2F;(1.18*vPB)-1 )*100*Math.pow(10,2) )&#x2F;Math.pow(10,2) );
                var vPG = ($.trim($(&#x27;#porcentaje_ganancia&#x27;).val())==&quot;&quot;) ? 0 : parseFloat($(&#x27;#porcentaje_ganancia&#x27;).val());
                $(&#x27;#venta_sin_igv&#x27;).val( Math.round( (vPB*(1+(vPG&#x2F;100)))*Math.pow(10,2) )&#x2F;Math.pow(10,2) );
            }
            $(&#x27;#precio_final_con_oferta&#x27;).val( Math.round( parseFloat($(&#x27;#venta_sin_igv&#x27;).val())*0.8*1.18*100 )&#x2F;100 );
        },
        
        doWysiwyg : function(){
            new nicEditor({
                iconsPath  : yOSON.statHost+&#x27;img&#x2F;nicEditorIcons.gif&#x27;, 
                buttonList : [&#x27;bold&#x27;,&#x27;italic&#x27;,&#x27;underline&#x27;,&#x27;left&#x27;,&#x27;center&#x27;,&#x27;right&#x27;,&#x27;justify&#x27;,&#x27;ol&#x27;,&#x27;ul&#x27;],
                maxHeight : 100
            }).panelInstance(&#x27;descripcion&#x27;);
            
            $(&#x27;.nicEdit-main[contentEditable=&quot;true&quot;]&#x27;).bind(&#x27;keyup&#x27;, function(){
                &#x2F;* &#x2F;patron&#x2F;.test(cadena):  se busca coincidencia del patron detro de la cadena xaya &lt;&gt;&lt;&gt;*&#x2F;
                &#x2F;*var desc = &#x2F;^(&lt;br&gt;|&lt;br \&#x2F;&gt;|\s|&amp;nbsp;|&lt;([^\&#x2F;])+&gt;(&amp;nbsp;|\s|)+&lt;\&#x2F;(.)+&gt;|)+$&#x2F;gi.test( $.trim($(this).html()) ) ? &#x27;&#x27; : $(this).html();*&#x2F;
                &#x2F;*var desc = &#x2F;^([a-zA-Z\s]|&lt;([a-z^\&#x2F;])+&gt;(.)+&lt;\&#x2F;[a-z]+&gt;)+$&#x2F;gi.test( $.trim($(this).html()) ) ? $(this).html() : &#x27;&#x27;;*&#x2F;
                var desc = &#x2F;&gt;?[^&gt;^&lt;]+&lt;?&#x2F;gi.test( $.trim($(this).html()) ) ? $(this).html() : &#x27;&#x27;; &#x2F;&#x2F;Console.log(&#x27;desc: &#x27;+desc);
                $(&#x27;#descripcion&#x27;).val(desc);
                $(&#x27;#descripcion&#x27;).trigger(&#x27;keyup&#x27;);
            }).bind(&#x27;keydown&#x27;, function(e){
                var key = e.charCode ? e.charCode : e.keyCode?e.keyCode:0; &#x2F;&#x2F;Console.log(&quot;keycode : =====&gt;&quot;+key);
                $(&quot;#id-error-desc&quot;).css(&#x27;display&#x27;,&#x27;block&#x27;).html( &quot;Le queda &quot;+(250-$(this).text().length)+&quot; caracteres por escribir.&quot; );
                if($(this).text().length&gt;=250 &amp;&amp; !&#x2F;^(37|38|39|40|13|8)$&#x2F;.test(key)){return false;}                
            });
        },
        
        doTree: function(){
            oShop.bind(&#x27;change&#x27;, function(){
                var id = $.trim($(&#x27;option:selected&#x27;, this).val());Console.log(id);
                var idp= $.trim($(this).attr(&#x27;id-prod&#x27;));Console.log(id);
                var srtUrl = idp!=&#x27;&#x27;?&#x27;&#x2F;product&#x2F;&#x27;+idp:&#x27;&#x27;;
                $.getJSON(yOSON.baseHost+&#x27;admin&#x2F;producto&#x2F;get-json-category-filter&#x2F;shop&#x2F;&#x27;+id+srtUrl, function(json){
                    var htmlTree = &quot;&quot;; &#x2F;&#x2F;&quot;&lt;ul&gt;&quot;;  
                    $.each(json.d, function(i, v){ &#x2F;*Console.log(&#x27;----------&gt;&#x27;+i+&quot;-&quot;+v);*&#x2F;
                        htmlTree += &#x27;&lt;li class=&quot;category&quot;&gt;&#x27;;
                            htmlTree += &#x27;&lt;h2&gt;&#x27;+v.n+&#x27;&lt;span class=&quot;slip&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;icon&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;h2&gt;&#x27;;  &#x2F;*v.name*&#x2F;
                            htmlTree += &#x27;&lt;ul class=&quot;content-subcat&quot;&gt;&#x27;;
                            $.each(v.c, function(i2, v2){ &#x2F;*Console.log(&#x27;    ----------&gt;&#x27;+i2+&quot;-&quot;+v2);*&#x2F;
                                htmlTree += &#x27;&lt;li class=&quot;subcat&quot;&gt;&#x27;;
                                    htmlTree += &#x27;&lt;h3&gt;&#x27;+v2.n[0]+&#x27;&lt;span class=&quot;slip&quot;&gt;&lt;&#x2F;span&gt;&lt;span class=&quot;icon&quot;&gt;&lt;&#x2F;span&gt;&lt;input name=&quot;subcategoria[]&quot; type=&quot;checkbox&quot; value=&quot;&#x27;+v2.i+&#x27;&quot; name=&quot;subcatweg&quot; &#x27;+(v2.n[1]!=&#x27;0&#x27;?&#x27;checked&#x27;:&#x27;&#x27;)+&#x27; &#x2F;&gt;&lt;&#x2F;h3&gt;&#x27;;
                                    htmlTree += &#x27;&lt;ul class=&quot;content-attr&quot;&gt;&#x27;;
                                    $.each(v2.c, function(i3, v3){ &#x2F;*Console.log(&#x27;        ----------&gt;&#x27;+i3+&quot;-&quot;+v3);*&#x2F;
                                        htmlTree += &#x27;&lt;li class=&quot;attr&quot;&gt;&#x27;;
                                            htmlTree += &#x27;&lt;h4&gt;&#x27;+v3.n+&#x27;&lt;span class=&quot;icon&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;h4&gt;&#x27;;
                                            htmlTree += &#x27;&lt;ul&gt;&#x27;;
                                            $.each(v3.c, function(i4, v4){ &#x2F;*Console.log(&#x27;            ----------&gt;&#x27;+i4+&quot;-&quot;+v4);*&#x2F;
                                                htmlTree += &#x27;&lt;li&gt;&lt;label class=&quot;checkbox&quot;&gt;&lt;input name=&quot;filtro[]&quot; type=&quot;checkbox&quot; value=&quot;&#x27;+i4+&#x27;&quot; &#x27;+(v4[1]!=&#x27;0&#x27;?&#x27;checked&#x27;:&#x27;&#x27;)+&#x27; &#x2F;&gt;&#x27;+v4[0]+&#x27;&lt;&#x2F;label&gt;&lt;&#x2F;li&gt;&#x27;;
                                            });
                                            htmlTree += &#x27;&lt;&#x2F;ul&gt;&#x27;;
                                        htmlTree += &#x27;&lt;&#x2F;li&gt;&#x27;;
                                    });
                                    htmlTree += &#x27;&lt;&#x2F;ul&gt;&#x27;;
                                htmlTree += &#x27;&lt;&#x2F;li&gt;&#x27;;
                            });
                            htmlTree += &#x27;&lt;&#x2F;ul&gt;&#x27;;
                        htmlTree += &#x27;&lt;&#x2F;li&gt;&#x27;;
                    }); &#x2F;&#x2F;htmlTree += &#x27;&lt;&#x2F;ul&gt;&#x27;;
                    &#x2F;*Cargando listado de del arbol*&#x2F;
                    $(&#x27;.content-tree #main-tree&#x27;).html(htmlTree); 
                    &#x2F;*Asignado funcionalidad a checkbox*&#x2F;
                    $(&#x27;li.subcat h3 input[type=&quot;checkbox&quot;]&#x27;).each(function(i,e){ 
                        var ul = $($(e).parent()).siblings(&quot;ul.content-attr&quot;);
                        var thisUlChks = $(&#x27;input[type=&quot;checkbox&quot;]&#x27;, ul);
                        thisUlChks.bind(&#x27;click&#x27;, (function(parentChk){
                            return function(){
                                var checked = $(this).prop(&#x27;checked&#x27;);
                                if(!checked)thisUlChks.each(function(i,e){
                                    if($(e).attr(&#x27;checked&#x27;)){checked=true;return false;}
                                });
                                $(parentChk).attr(&#x27;checked&#x27;, checked);
                            };
                        })(e)); 
                    });
                });
 
                $.getJSON(yOSON.baseHost+&#x27;admin&#x2F;producto&#x2F;get-json-sub-category&#x2F;shop&#x2F;&#x27;+id+srtUrl, function(json){
                    var selCat = &#x27;&lt;select name=&quot;categoria_defecto&quot; id=&quot;categoria_defecto&quot; class=&quot;valid&quot;&gt;&#x27;;
                    selCat += &#x27;&lt;option value=&quot;&quot;&gt;Seleccione&lt;&#x2F;option&gt;&#x27;;
                    console.log(&#x27;|get-json-sub-category---------------------------|&#x27;);
                    console.log(json.d);
                    console.log(&#x27;|get-json-sub-category---------------------------|&#x27;);
                    $.each(json.d, function(i, v){
                        selCat += &#x27;&lt;optgroup label=&quot;&#x27;+v.np+&#x27;&quot;&gt;&#x27;;
                        &#x2F;&#x2F;Console.log(&quot;341:&quot;);Console.log(v.c);
                        if(v.hasOwnProperty(&quot;c&quot;))$.each(v.c, function(i, v){
                            if(v.hasOwnProperty(&quot;n&quot;)){
                                selCat += &#x27;&lt;option value=&quot;&#x27;+i+&#x27;&quot; &#x27;+(v.n[1]!=&#x27;0&#x27;?&#x27;selected&#x27;:&#x27;&#x27;)+&#x27;&gt;&#x27;+v.n[0]+&#x27;&lt;&#x2F;option&gt;&#x27;;
                            }
                        }); 
                        selCat += &#x27;&lt;&#x2F;optgroup&gt;&#x27;;
                    });
                    selCat += &#x27;&lt;&#x2F;select&gt;&#x27;;
                    $(&#x27;#categoria_defecto&#x27;).parent().html(selCat);
                });

            }).trigger(&#x27;change&#x27;);
        },
        
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
}, [&#x27;libs&#x2F;simpleNicEdit.js&#x27;,&#x27;libs&#x2F;plugins&#x2F;jqNumeric.js&#x27;]);

&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: Listado de productos
 * @Description: Muestra una grillas con todos los productos y los respectivos botones de accion.
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;list-product&quot;, function(Sb){
    var frmlistP = $(&#x27;#frm&#x27;);
    var inpState = $(&#x27;#h_act&#x27;);
    var chkState = $(&#x27;.t-show input[type=&quot;checkbox&quot;]&#x27;);
    var selPagin = $(&#x27;#gridNumPage&#x27;);
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            chkState.bind(&#x27;click&#x27; , this.changeStateReg );  &#x2F;&#x2F;Asignado funcionalidad
            Sb.events([&#x27;submit-paginate&#x27;], function(sel, frm){  &#x2F;*Evento a nivel de modulo de paginacion por submit*&#x2F;
                sel.bind(&#x27;change&#x27;, function(){ frm.submit() } );
            }, this).trigger(&#x27;submit-paginate&#x27;,[selPagin, frmlistP]); &#x2F;*Disparando evento*&#x2F;
        },
        &#x2F;*Public method : Implementacion de alguna funcionalidad asociada a este modulo.*&#x2F;
        changeStateReg: function(){
            var id = $(this).attr(&#x27;id&#x27;).split(&#x27;active&#x27;)[1];
            var chk= $(this).attr(&#x27;checked&#x27;)?&#x27;1&#x27;:&#x27;0&#x27;;
            chkState.attr(&#x27;disabled&#x27;, true);Console.log(id+&quot;-&quot;+chk);
            inpState.val(id+&#x27;|&#x27;+chk);frmlistP.submit();
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };

});

&#x2F;*-----------------------------------------------------------------------------------------------
 * @Module: Listado de productos
 * @Description: Muestra una grillas con todos los productos y los respectivos botones de accion.
 *&#x2F;&#x2F;*-------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&quot;list-orders&quot;, function(Sb){
    var frmlistP = $(&#x27;#frm&#x27;);
    var inpState = $(&#x27;#h_act&#x27;);
    var chkState = $(&#x27;.t-show input[type=&quot;checkbox&quot;]&#x27;);
    var selPagin = $(&#x27;#gridNumPage&#x27;);
    return {
	&#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            chkState.bind(&#x27;click&#x27; , this.changeStateReg );  &#x2F;&#x2F;Asignado funcionalidad
            Sb.trigger(&#x27;submit-paginate&#x27;, [selPagin, frmlistP]); &#x2F;*Disparando evento*&#x2F;
        },
        &#x2F;*Public method : Implementacion de alguna funcionalidad asociada a este modulo.*&#x2F;
        changeStateReg: function(){
            var id = $(this).attr(&#x27;id&#x27;).split(&#x27;active&#x27;)[1];
            var chk= $(this).attr(&#x27;checked&#x27;)?&#x27;1&#x27;:&#x27;0&#x27;;
            chkState.attr(&#x27;disabled&#x27;, true);Console.log(id+&quot;-&quot;+chk);
            inpState.val(id+&#x27;|&#x27;+chk);frmlistP.submit();
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };

});

&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : Select Information
 * @Description: Muestra los divs segun la opci√≥n elegida
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;select-information&#x27;, function(Sb){    
    return {
    &#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
                var select=$(&quot;#destaque&quot;),selected=$(&quot;#destaque option:selected&quot;),selects=$(&quot;.select-option&quot;),value;
                value=&quot;#&quot;+selected.attr(&quot;label&quot;);
                if($(value).length){ 
                    $(value).show();
                }
                select.change(function(){ 
                    selected=$(&quot;#destaque option:selected&quot;);
                    value=&quot;#&quot;+selected.attr(&quot;label&quot;);
                    selects.hide();
                    if($(value).length){ 
                        $(value).fadeIn(500);
                    }
                });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
});
&#x2F;*--------------------------------------------------------------------------------------------------------
 * @Module     : Datepicker Products
 * @Description: Muestra Datepicker en la secci√≥n de productos
 *&#x2F;&#x2F;*----------------------------------------------------------------------------------------------------*&#x2F;
yOSON.AppCore.addModule(&#x27;date-products&#x27;, function(Sb){    
    return {
    &#x2F;*Public Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules)*&#x2F;
        init: function(oParams){
            
            var fechaFin = $(&quot;#destaque_fecha&quot;);      &#x2F;* Datetimepicker from *&#x2F;
            var datefrom = $(&quot;#discount_start_date&quot;); &#x2F;* Datetimepicker from *&#x2F;
            var dateto   = $(&quot;#discount_end_date&quot;);   &#x2F;* Datetimepicker to   *&#x2F;
            
            fechaFin.datepicker({
                dateFormat:&quot;dd-mm-yy&quot;, showOn:&quot;button&quot;, minDate:0,
                buttonImage: yOSON.statHost+&quot;img-admin&#x2F;datepicker.png&quot;,
                buttonImageOnly: true
            });
            
            datefrom.datepicker({
                dateFormat:&quot;dd-mm-yy&quot;, showOn:&quot;button&quot;, minDate:0,
                buttonImage: yOSON.statHost+&quot;img-admin&#x2F;datepicker.png&quot;,
                buttonImageOnly: true,
                onSelect: function(selectedDate){dateto.datepicker(&quot;option&quot;, &quot;minDate&quot;, selectedDate);}
            });
            
            dateto.datepicker({
                dateFormat:&quot;dd-mm-yy&quot;, showOn:&quot;button&quot;, minDate:0,
                buttonImage: yOSON.statHost+&quot;img-admin&#x2F;datepicker.png&quot;,
                buttonImageOnly: true
            });
        },
        &#x2F;*Constructor : Inicializa el modulo (Es el que se ejecuta en el schema @modules).*&#x2F;
        destroy: function(){ &#x2F;*Como destruir instacia de este modulo aqui*&#x2F; }
    };
    
},[&#x27;plugins&#x2F;start&#x2F;jquery-ui-1.8.22.custom.css&#x27;, &#x27;libs&#x2F;plugins&#x2F;min&#x2F;jqDatepicker.js&#x27;]);

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
