<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>libs&#x2F;plugins&#x2F;tiny_mce&#x2F;plugins&#x2F;xhtmlxtras&#x2F;js&#x2F;element_common.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/admin.html">admin</a></li>
            
                <li><a href="..&#x2F;classes/all-modules.html">all-modules</a></li>
            
                <li><a href="..&#x2F;classes/default.html">default</a></li>
            
                <li><a href="..&#x2F;classes/jcarousel.html">jcarousel</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.AutoSave.html">tinymce.plugins.AutoSave</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.ContextMenu.html">tinymce.plugins.ContextMenu</a></li>
            
                <li><a href="..&#x2F;classes/usuario.html">usuario</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/ad-actions.html">ad-actions</a></li>
            
                <li><a href="..&#x2F;modules/add-class-middle.html">add-class-middle</a></li>
            
                <li><a href="..&#x2F;modules/add-favorites.html">add-favorites</a></li>
            
                <li><a href="..&#x2F;modules/all-checked-uncheked.html">all-checked-uncheked</a></li>
            
                <li><a href="..&#x2F;modules/banner-top classified.html">banner-top classified</a></li>
            
                <li><a href="..&#x2F;modules/carousel-products.html">carousel-products</a></li>
            
                <li><a href="..&#x2F;modules/count-word.html">count-word</a></li>
            
                <li><a href="..&#x2F;modules/data-ubigeo.html">data-ubigeo</a></li>
            
                <li><a href="..&#x2F;modules/geotags.html">geotags</a></li>
            
                <li><a href="..&#x2F;modules/impress-ad-list.html">impress-ad-list</a></li>
            
                <li><a href="..&#x2F;modules/lightbox-logIn-signUp.html">lightbox-logIn-signUp</a></li>
            
                <li><a href="..&#x2F;modules/moduleName.html">moduleName</a></li>
            
                <li><a href="..&#x2F;modules/placeholder.html">placeholder</a></li>
            
                <li><a href="..&#x2F;modules/preview-impress.html">preview-impress</a></li>
            
                <li><a href="..&#x2F;modules/register-category.html">register-category</a></li>
            
                <li><a href="..&#x2F;modules/remove-class-home.html">remove-class-home</a></li>
            
                <li><a href="..&#x2F;modules/report-ad.html">report-ad</a></li>
            
                <li><a href="..&#x2F;modules/scrollTop.html">scrollTop</a></li>
            
                <li><a href="..&#x2F;modules/search-categories.html">search-categories</a></li>
            
                <li><a href="..&#x2F;modules/send-ad-friend.html">send-ad-friend</a></li>
            
                <li><a href="..&#x2F;modules/send-list-ad-email.html">send-list-ad-email</a></li>
            
                <li><a href="..&#x2F;modules/show-advanced-search.html">show-advanced-search</a></li>
            
                <li><a href="..&#x2F;modules/show-example-ads.html">show-example-ads</a></li>
            
                <li><a href="..&#x2F;modules/show-login-trigger.html">show-login-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-photo-products.html">show-photo-products</a></li>
            
                <li><a href="..&#x2F;modules/show-popup.html">show-popup</a></li>
            
                <li><a href="..&#x2F;modules/show-questions.html">show-questions</a></li>
            
                <li><a href="..&#x2F;modules/show-register-trigger.html">show-register-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-video.html">show-video</a></li>
            
                <li><a href="..&#x2F;modules/showMoreCategories.html">showMoreCategories</a></li>
            
                <li><a href="..&#x2F;modules/some-module4.html">some-module4</a></li>
            
                <li><a href="..&#x2F;modules/tinymce-register.html">tinymce-register</a></li>
            
                <li><a href="..&#x2F;modules/uploader-photos.html">uploader-photos</a></li>
            
                <li><a href="..&#x2F;modules/validate.html">validate</a></li>
            
                <li><a href="..&#x2F;modules/validate-document.html">validate-document</a></li>
            
                <li><a href="..&#x2F;modules/validate-image.html">validate-image</a></li>
            
                <li><a href="..&#x2F;modules/venta.html">venta</a></li>
            
                <li><a href="..&#x2F;modules/yOSON.html">yOSON</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: libs&#x2F;plugins&#x2F;tiny_mce&#x2F;plugins&#x2F;xhtmlxtras&#x2F;js&#x2F;element_common.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * element_common.js
 *
 * Copyright 2009, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http:&#x2F;&#x2F;tinymce.moxiecode.com&#x2F;license
 * Contributing: http:&#x2F;&#x2F;tinymce.moxiecode.com&#x2F;contributing
 *&#x2F;

tinyMCEPopup.requireLangPack();

function initCommonAttributes(elm) {
	var formObj = document.forms[0], dom = tinyMCEPopup.editor.dom;

	&#x2F;&#x2F; Setup form data for common element attributes
	setFormValue(&#x27;title&#x27;, dom.getAttrib(elm, &#x27;title&#x27;));
	setFormValue(&#x27;id&#x27;, dom.getAttrib(elm, &#x27;id&#x27;));
	selectByValue(formObj, &#x27;class&#x27;, dom.getAttrib(elm, &#x27;class&#x27;), true);
	setFormValue(&#x27;style&#x27;, dom.getAttrib(elm, &#x27;style&#x27;));
	selectByValue(formObj, &#x27;dir&#x27;, dom.getAttrib(elm, &#x27;dir&#x27;));
	setFormValue(&#x27;lang&#x27;, dom.getAttrib(elm, &#x27;lang&#x27;));
	setFormValue(&#x27;onfocus&#x27;, dom.getAttrib(elm, &#x27;onfocus&#x27;));
	setFormValue(&#x27;onblur&#x27;, dom.getAttrib(elm, &#x27;onblur&#x27;));
	setFormValue(&#x27;onclick&#x27;, dom.getAttrib(elm, &#x27;onclick&#x27;));
	setFormValue(&#x27;ondblclick&#x27;, dom.getAttrib(elm, &#x27;ondblclick&#x27;));
	setFormValue(&#x27;onmousedown&#x27;, dom.getAttrib(elm, &#x27;onmousedown&#x27;));
	setFormValue(&#x27;onmouseup&#x27;, dom.getAttrib(elm, &#x27;onmouseup&#x27;));
	setFormValue(&#x27;onmouseover&#x27;, dom.getAttrib(elm, &#x27;onmouseover&#x27;));
	setFormValue(&#x27;onmousemove&#x27;, dom.getAttrib(elm, &#x27;onmousemove&#x27;));
	setFormValue(&#x27;onmouseout&#x27;, dom.getAttrib(elm, &#x27;onmouseout&#x27;));
	setFormValue(&#x27;onkeypress&#x27;, dom.getAttrib(elm, &#x27;onkeypress&#x27;));
	setFormValue(&#x27;onkeydown&#x27;, dom.getAttrib(elm, &#x27;onkeydown&#x27;));
	setFormValue(&#x27;onkeyup&#x27;, dom.getAttrib(elm, &#x27;onkeyup&#x27;));
}

function setFormValue(name, value) {
	if(document.forms[0].elements[name]) document.forms[0].elements[name].value = value;
}

function insertDateTime(id) {
	document.getElementById(id).value = getDateTime(new Date(), &quot;%Y-%m-%dT%H:%M:%S&quot;);
}

function getDateTime(d, fmt) {
	fmt = fmt.replace(&quot;%D&quot;, &quot;%m&#x2F;%d&#x2F;%y&quot;);
	fmt = fmt.replace(&quot;%r&quot;, &quot;%I:%M:%S %p&quot;);
	fmt = fmt.replace(&quot;%Y&quot;, &quot;&quot; + d.getFullYear());
	fmt = fmt.replace(&quot;%y&quot;, &quot;&quot; + d.getYear());
	fmt = fmt.replace(&quot;%m&quot;, addZeros(d.getMonth()+1, 2));
	fmt = fmt.replace(&quot;%d&quot;, addZeros(d.getDate(), 2));
	fmt = fmt.replace(&quot;%H&quot;, &quot;&quot; + addZeros(d.getHours(), 2));
	fmt = fmt.replace(&quot;%M&quot;, &quot;&quot; + addZeros(d.getMinutes(), 2));
	fmt = fmt.replace(&quot;%S&quot;, &quot;&quot; + addZeros(d.getSeconds(), 2));
	fmt = fmt.replace(&quot;%I&quot;, &quot;&quot; + ((d.getHours() + 11) % 12 + 1));
	fmt = fmt.replace(&quot;%p&quot;, &quot;&quot; + (d.getHours() &lt; 12 ? &quot;AM&quot; : &quot;PM&quot;));
	fmt = fmt.replace(&quot;%%&quot;, &quot;%&quot;);

	return fmt;
}

function addZeros(value, len) {
	var i;

	value = &quot;&quot; + value;

	if (value.length &lt; len) {
		for (i=0; i&lt;(len-value.length); i++)
			value = &quot;0&quot; + value;
	}

	return value;
}

function selectByValue(form_obj, field_name, value, add_custom, ignore_case) {
	if (!form_obj || !form_obj.elements[field_name])
		return;

	var sel = form_obj.elements[field_name];

	var found = false;
	for (var i=0; i&lt;sel.options.length; i++) {
		var option = sel.options[i];

		if (option.value == value || (ignore_case &amp;&amp; option.value.toLowerCase() == value.toLowerCase())) {
			option.selected = true;
			found = true;
		} else
			option.selected = false;
	}

	if (!found &amp;&amp; add_custom &amp;&amp; value != &#x27;&#x27;) {
		var option = new Option(&#x27;Value: &#x27; + value, value);
		option.selected = true;
		sel.options[sel.options.length] = option;
	}

	return found;
}

function setAttrib(elm, attrib, value) {
	var formObj = document.forms[0];
	var valueElm = formObj.elements[attrib.toLowerCase()];
	tinyMCEPopup.editor.dom.setAttrib(elm, attrib, value || valueElm.value);
}

function setAllCommonAttribs(elm) {
	setAttrib(elm, &#x27;title&#x27;);
	setAttrib(elm, &#x27;id&#x27;);
	setAttrib(elm, &#x27;class&#x27;);
	setAttrib(elm, &#x27;style&#x27;);
	setAttrib(elm, &#x27;dir&#x27;);
	setAttrib(elm, &#x27;lang&#x27;);
	&#x2F;*setAttrib(elm, &#x27;onfocus&#x27;);
	setAttrib(elm, &#x27;onblur&#x27;);
	setAttrib(elm, &#x27;onclick&#x27;);
	setAttrib(elm, &#x27;ondblclick&#x27;);
	setAttrib(elm, &#x27;onmousedown&#x27;);
	setAttrib(elm, &#x27;onmouseup&#x27;);
	setAttrib(elm, &#x27;onmouseover&#x27;);
	setAttrib(elm, &#x27;onmousemove&#x27;);
	setAttrib(elm, &#x27;onmouseout&#x27;);
	setAttrib(elm, &#x27;onkeypress&#x27;);
	setAttrib(elm, &#x27;onkeydown&#x27;);
	setAttrib(elm, &#x27;onkeyup&#x27;);*&#x2F;
}

SXE = {
	currentAction : &quot;insert&quot;,
	inst : tinyMCEPopup.editor,
	updateElement : null
}

SXE.focusElement = SXE.inst.selection.getNode();

SXE.initElementDialog = function(element_name) {
	addClassesToList(&#x27;class&#x27;, &#x27;xhtmlxtras_styles&#x27;);
	TinyMCE_EditableSelects.init();

	element_name = element_name.toLowerCase();
	var elm = SXE.inst.dom.getParent(SXE.focusElement, element_name.toUpperCase());
	if (elm != null &amp;&amp; elm.nodeName.toUpperCase() == element_name.toUpperCase()) {
		SXE.currentAction = &quot;update&quot;;
	}

	if (SXE.currentAction == &quot;update&quot;) {
		initCommonAttributes(elm);
		SXE.updateElement = elm;
	}

	document.forms[0].insert.value = tinyMCEPopup.getLang(SXE.currentAction, &#x27;Insert&#x27;, true); 
}

SXE.insertElement = function(element_name) {
	var elm = SXE.inst.dom.getParent(SXE.focusElement, element_name.toUpperCase()), h, tagName;

	if (elm == null) {
		var s = SXE.inst.selection.getContent();
		if(s.length &gt; 0) {
			tagName = element_name;

			insertInlineElement(element_name);
			var elementArray = tinymce.grep(SXE.inst.dom.select(element_name));
			for (var i=0; i&lt;elementArray.length; i++) {
				var elm = elementArray[i];

				if (SXE.inst.dom.getAttrib(elm, &#x27;data-mce-new&#x27;)) {
					elm.id = &#x27;&#x27;;
					elm.setAttribute(&#x27;id&#x27;, &#x27;&#x27;);
					elm.removeAttribute(&#x27;id&#x27;);
					elm.removeAttribute(&#x27;data-mce-new&#x27;);

					setAllCommonAttribs(elm);
				}
			}
		}
	} else {
		setAllCommonAttribs(elm);
	}
	SXE.inst.nodeChanged();
	tinyMCEPopup.execCommand(&#x27;mceEndUndoLevel&#x27;);
}

SXE.removeElement = function(element_name){
	element_name = element_name.toLowerCase();
	elm = SXE.inst.dom.getParent(SXE.focusElement, element_name.toUpperCase());
	if(elm &amp;&amp; elm.nodeName.toUpperCase() == element_name.toUpperCase()){
		tinyMCE.execCommand(&#x27;mceRemoveNode&#x27;, false, elm);
		SXE.inst.nodeChanged();
		tinyMCEPopup.execCommand(&#x27;mceEndUndoLevel&#x27;);
	}
}

SXE.showRemoveButton = function() {
		document.getElementById(&quot;remove&quot;).style.display = &#x27;&#x27;;
}

SXE.containsClass = function(elm,cl) {
	return (elm.className.indexOf(cl) &gt; -1) ? true : false;
}

SXE.removeClass = function(elm,cl) {
	if(elm.className == null || elm.className == &quot;&quot; || !SXE.containsClass(elm,cl)) {
		return true;
	}
	var classNames = elm.className.split(&quot; &quot;);
	var newClassNames = &quot;&quot;;
	for (var x = 0, cnl = classNames.length; x &lt; cnl; x++) {
		if (classNames[x] != cl) {
			newClassNames += (classNames[x] + &quot; &quot;);
		}
	}
	elm.className = newClassNames.substring(0,newClassNames.length-1); &#x2F;&#x2F;removes extra space at the end
}

SXE.addClass = function(elm,cl) {
	if(!SXE.containsClass(elm,cl)) elm.className ? elm.className += &quot; &quot; + cl : elm.className = cl;
	return true;
}

function insertInlineElement(en) {
	var ed = tinyMCEPopup.editor, dom = ed.dom;

	ed.getDoc().execCommand(&#x27;FontName&#x27;, false, &#x27;mceinline&#x27;);
	tinymce.each(dom.select(&#x27;span,font&#x27;), function(n) {
		if (n.style.fontFamily == &#x27;mceinline&#x27; || n.face == &#x27;mceinline&#x27;)
			dom.replace(dom.create(en, {&#x27;data-mce-new&#x27; : 1}), n, 1);
	});
}

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
