<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>libs&#x2F;plugins&#x2F;tiny_mce&#x2F;plugins&#x2F;noneditable&#x2F;editor_plugin_src.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/admin.html">admin</a></li>
            
                <li><a href="..&#x2F;classes/all-modules.html">all-modules</a></li>
            
                <li><a href="..&#x2F;classes/default.html">default</a></li>
            
                <li><a href="..&#x2F;classes/jcarousel.html">jcarousel</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.AutoSave.html">tinymce.plugins.AutoSave</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.ContextMenu.html">tinymce.plugins.ContextMenu</a></li>
            
                <li><a href="..&#x2F;classes/usuario.html">usuario</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/ad-actions.html">ad-actions</a></li>
            
                <li><a href="..&#x2F;modules/add-class-middle.html">add-class-middle</a></li>
            
                <li><a href="..&#x2F;modules/add-favorites.html">add-favorites</a></li>
            
                <li><a href="..&#x2F;modules/all-checked-uncheked.html">all-checked-uncheked</a></li>
            
                <li><a href="..&#x2F;modules/banner-top classified.html">banner-top classified</a></li>
            
                <li><a href="..&#x2F;modules/carousel-products.html">carousel-products</a></li>
            
                <li><a href="..&#x2F;modules/count-word.html">count-word</a></li>
            
                <li><a href="..&#x2F;modules/data-ubigeo.html">data-ubigeo</a></li>
            
                <li><a href="..&#x2F;modules/geotags.html">geotags</a></li>
            
                <li><a href="..&#x2F;modules/impress-ad-list.html">impress-ad-list</a></li>
            
                <li><a href="..&#x2F;modules/lightbox-logIn-signUp.html">lightbox-logIn-signUp</a></li>
            
                <li><a href="..&#x2F;modules/moduleName.html">moduleName</a></li>
            
                <li><a href="..&#x2F;modules/placeholder.html">placeholder</a></li>
            
                <li><a href="..&#x2F;modules/preview-impress.html">preview-impress</a></li>
            
                <li><a href="..&#x2F;modules/register-category.html">register-category</a></li>
            
                <li><a href="..&#x2F;modules/remove-class-home.html">remove-class-home</a></li>
            
                <li><a href="..&#x2F;modules/report-ad.html">report-ad</a></li>
            
                <li><a href="..&#x2F;modules/scrollTop.html">scrollTop</a></li>
            
                <li><a href="..&#x2F;modules/search-categories.html">search-categories</a></li>
            
                <li><a href="..&#x2F;modules/send-ad-friend.html">send-ad-friend</a></li>
            
                <li><a href="..&#x2F;modules/send-list-ad-email.html">send-list-ad-email</a></li>
            
                <li><a href="..&#x2F;modules/show-advanced-search.html">show-advanced-search</a></li>
            
                <li><a href="..&#x2F;modules/show-example-ads.html">show-example-ads</a></li>
            
                <li><a href="..&#x2F;modules/show-login-trigger.html">show-login-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-photo-products.html">show-photo-products</a></li>
            
                <li><a href="..&#x2F;modules/show-popup.html">show-popup</a></li>
            
                <li><a href="..&#x2F;modules/show-questions.html">show-questions</a></li>
            
                <li><a href="..&#x2F;modules/show-register-trigger.html">show-register-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-video.html">show-video</a></li>
            
                <li><a href="..&#x2F;modules/showMoreCategories.html">showMoreCategories</a></li>
            
                <li><a href="..&#x2F;modules/some-module4.html">some-module4</a></li>
            
                <li><a href="..&#x2F;modules/tinymce-register.html">tinymce-register</a></li>
            
                <li><a href="..&#x2F;modules/uploader-photos.html">uploader-photos</a></li>
            
                <li><a href="..&#x2F;modules/validate.html">validate</a></li>
            
                <li><a href="..&#x2F;modules/validate-document.html">validate-document</a></li>
            
                <li><a href="..&#x2F;modules/validate-image.html">validate-image</a></li>
            
                <li><a href="..&#x2F;modules/venta.html">venta</a></li>
            
                <li><a href="..&#x2F;modules/yOSON.html">yOSON</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: libs&#x2F;plugins&#x2F;tiny_mce&#x2F;plugins&#x2F;noneditable&#x2F;editor_plugin_src.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * editor_plugin_src.js
 *
 * Copyright 2009, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http:&#x2F;&#x2F;tinymce.moxiecode.com&#x2F;license
 * Contributing: http:&#x2F;&#x2F;tinymce.moxiecode.com&#x2F;contributing
 *&#x2F;

(function() {
	var TreeWalker = tinymce.dom.TreeWalker;
	var externalName = &#x27;contenteditable&#x27;, internalName = &#x27;data-mce-&#x27; + externalName;
	var VK = tinymce.VK;

	function handleContentEditableSelection(ed) {
		var dom = ed.dom, selection = ed.selection, invisibleChar, caretContainerId = &#x27;mce_noneditablecaret&#x27;, invisibleChar = &#x27;\uFEFF&#x27;;

		&#x2F;&#x2F; Returns the content editable state of a node &quot;true&#x2F;false&quot; or null
		function getContentEditable(node) {
			var contentEditable;

			&#x2F;&#x2F; Ignore non elements
			if (node.nodeType === 1) {
				&#x2F;&#x2F; Check for fake content editable
				contentEditable = node.getAttribute(internalName);
				if (contentEditable &amp;&amp; contentEditable !== &quot;inherit&quot;) {
					return contentEditable;
				}

				&#x2F;&#x2F; Check for real content editable
				contentEditable = node.contentEditable;
				if (contentEditable !== &quot;inherit&quot;) {
					return contentEditable;
				}
			}

			return null;
		};

		&#x2F;&#x2F; Returns the noneditable parent or null if there is a editable before it or if it wasn&#x27;t found
		function getNonEditableParent(node) {
			var state;

			while (node) {
				state = getContentEditable(node);
				if (state) {
					return state  === &quot;false&quot; ? node : null;
				}

				node = node.parentNode;
			}
		};

		&#x2F;&#x2F; Get caret container parent for the specified node
		function getParentCaretContainer(node) {
			while (node) {
				if (node.id === caretContainerId) {
					return node;
				}

				node = node.parentNode;
			}
		};

		&#x2F;&#x2F; Finds the first text node in the specified node
		function findFirstTextNode(node) {
			var walker;

			if (node) {
				walker = new TreeWalker(node, node);

				for (node = walker.current(); node; node = walker.next()) {
					if (node.nodeType === 3) {
						return node;
					}
				}
			}
		};

		&#x2F;&#x2F; Insert caret container before&#x2F;after target or expand selection to include block
		function insertCaretContainerOrExpandToBlock(target, before) {
			var caretContainer, rng;

			&#x2F;&#x2F; Select block
			if (getContentEditable(target) === &quot;false&quot;) {
				if (dom.isBlock(target)) {
					selection.select(target);
					return;
				}
			}

			rng = dom.createRng();

			if (getContentEditable(target) === &quot;true&quot;) {
				if (!target.firstChild) {
					target.appendChild(ed.getDoc().createTextNode(&#x27;\u00a0&#x27;));
				}

				target = target.firstChild;
				before = true;
			}

			&#x2F;&#x2F;caretContainer = dom.create(&#x27;span&#x27;, {id: caretContainerId, &#x27;data-mce-bogus&#x27;: true, style:&#x27;border: 1px solid red&#x27;}, invisibleChar);
			caretContainer = dom.create(&#x27;span&#x27;, {id: caretContainerId, &#x27;data-mce-bogus&#x27;: true}, invisibleChar);

			if (before) {
				target.parentNode.insertBefore(caretContainer, target);
			} else {
				dom.insertAfter(caretContainer, target);
			}

			rng.setStart(caretContainer.firstChild, 1);
			rng.collapse(true);
			selection.setRng(rng);

			return caretContainer;
		};

		&#x2F;&#x2F; Removes any caret container except the one we might be in
		function removeCaretContainer(caretContainer) {
			var child, currentCaretContainer, lastContainer;

			if (caretContainer) {
					rng = selection.getRng(true);
					rng.setStartBefore(caretContainer);
					rng.setEndBefore(caretContainer);

					child = findFirstTextNode(caretContainer);
					if (child &amp;&amp; child.nodeValue.charAt(0) == invisibleChar) {
						child = child.deleteData(0, 1);
					}

					dom.remove(caretContainer, true);

					selection.setRng(rng);
			} else {
				currentCaretContainer = getParentCaretContainer(selection.getStart());
				while ((caretContainer = dom.get(caretContainerId)) &amp;&amp; caretContainer !== lastContainer) {
					if (currentCaretContainer !== caretContainer) {
						child = findFirstTextNode(caretContainer);
						if (child &amp;&amp; child.nodeValue.charAt(0) == invisibleChar) {
							child = child.deleteData(0, 1);
						}

						dom.remove(caretContainer, true);
					}

					lastContainer = caretContainer;
				}
			}
		};

		&#x2F;&#x2F; Modifies the selection to include contentEditable false elements or insert caret containers
		function moveSelection() {
			var nonEditableStart, nonEditableEnd, isCollapsed, rng, element;

			&#x2F;&#x2F; Checks if there is any contents to the left&#x2F;right side of caret returns the noneditable element or any editable element if it finds one inside
			function hasSideContent(element, left) {
				var container, offset, walker, node, len;

				container = rng.startContainer;
				offset = rng.startOffset;

				&#x2F;&#x2F; If endpoint is in middle of text node then expand to beginning&#x2F;end of element
				if (container.nodeType == 3) {
					len = container.nodeValue.length;
					if ((offset &gt; 0 &amp;&amp; offset &lt; len) || (left ? offset == len : offset == 0)) {
						return;
					}
				} else {
					&#x2F;&#x2F; Can we resolve the node by index
					if (offset &lt; container.childNodes.length) {
						&#x2F;&#x2F; Browser represents caret position as the offset at the start of an element. When moving right
						&#x2F;&#x2F; this is the element we are moving into so we consider our container to be child node at offset-1
						var pos = !left &amp;&amp; offset &gt; 0 ? offset-1 : offset;
						container = container.childNodes[pos];
						if (container.hasChildNodes()) {
							container = container.firstChild;
						}
					} else {
						&#x2F;&#x2F; If not then the caret is at the last position in it&#x27;s container and the caret container should be inserted after the noneditable element
						return !left ? element : null;
					}
				}

				&#x2F;&#x2F; Walk left&#x2F;right to look for contents
				walker = new TreeWalker(container, element);
				while (node = walker[left ? &#x27;prev&#x27; : &#x27;next&#x27;]()) {
					if (node.nodeType === 3 &amp;&amp; node.nodeValue.length &gt; 0) {
						return;
					} else if (getContentEditable(node) === &quot;true&quot;) {
						&#x2F;&#x2F; Found contentEditable=true element return this one to we can move the caret inside it
						return node;
					}
				}

				return element;
			};

			&#x2F;&#x2F; Remove any existing caret containers
			removeCaretContainer();

			&#x2F;&#x2F; Get noneditable start&#x2F;end elements
			isCollapsed = selection.isCollapsed();
			nonEditableStart = getNonEditableParent(selection.getStart());
			nonEditableEnd = getNonEditableParent(selection.getEnd());

			&#x2F;&#x2F; Is any fo the range endpoints noneditable
			if (nonEditableStart || nonEditableEnd) {
				rng = selection.getRng(true);

				&#x2F;&#x2F; If it&#x27;s a caret selection then look left&#x2F;right to see if we need to move the caret out side or expand
				if (isCollapsed) {
					nonEditableStart = nonEditableStart || nonEditableEnd;
					var start = selection.getStart();
					if (element = hasSideContent(nonEditableStart, true)) {
						&#x2F;&#x2F; We have no contents to the left of the caret then insert a caret container before the noneditable element
						insertCaretContainerOrExpandToBlock(element, true);
					} else if (element = hasSideContent(nonEditableStart, false)) {
						&#x2F;&#x2F; We have no contents to the right of the caret then insert a caret container after the noneditable element
						insertCaretContainerOrExpandToBlock(element, false);
					} else {
						&#x2F;&#x2F; We are in the middle of a noneditable so expand to select it
						selection.select(nonEditableStart);
					}
				} else {
					rng = selection.getRng(true);

					&#x2F;&#x2F; Expand selection to include start non editable element
					if (nonEditableStart) {
						rng.setStartBefore(nonEditableStart);
					}

					&#x2F;&#x2F; Expand selection to include end non editable element
					if (nonEditableEnd) {
						rng.setEndAfter(nonEditableEnd);
					}

					selection.setRng(rng);
				}
			}
		};

		function handleKey(ed, e) {
			var keyCode = e.keyCode, nonEditableParent, caretContainer, startElement, endElement;

			function getNonEmptyTextNodeSibling(node, prev) {
				while (node = node[prev ? &#x27;previousSibling&#x27; : &#x27;nextSibling&#x27;]) {
					if (node.nodeType !== 3 || node.nodeValue.length &gt; 0) {
						return node;
					}
				}
			};

			function positionCaretOnElement(element, start) {
				selection.select(element);
				selection.collapse(start);
			}

			function canDelete(backspace) {
				var rng, container, offset, nonEditableParent;

				function removeNodeIfNotParent(node) {
					var parent = container;

					while (parent) {
						if (parent === node) {
							return;
						}

						parent = parent.parentNode;
					}

					dom.remove(node);
					moveSelection();
				}

				function isNextPrevTreeNodeNonEditable() {
					var node, walker, nonEmptyElements = ed.schema.getNonEmptyElements();

					walker = new tinymce.dom.TreeWalker(container, ed.getBody());
					while (node = (backspace ? walker.prev() : walker.next())) {
						&#x2F;&#x2F; Found IMG&#x2F;INPUT etc
						if (nonEmptyElements[node.nodeName.toLowerCase()]) {
							break;
						}

						&#x2F;&#x2F; Found text node with contents
						if (node.nodeType === 3 &amp;&amp; tinymce.trim(node.nodeValue).length &gt; 0) {
							break;
						}

						&#x2F;&#x2F; Found non editable node
						if (getContentEditable(node) === &quot;false&quot;) {
							removeNodeIfNotParent(node);
							return true;
						}
					}

					&#x2F;&#x2F; Check if the content node is within a non editable parent
					if (getNonEditableParent(node)) {
						return true;
					}

					return false;
				}

				if (selection.isCollapsed()) {
					rng = selection.getRng(true);
					container = rng.startContainer;
					offset = rng.startOffset;
					container = getParentCaretContainer(container) || container;

					&#x2F;&#x2F; Is in noneditable parent
					if (nonEditableParent = getNonEditableParent(container)) {
						removeNodeIfNotParent(nonEditableParent);
						return false;
					}

					&#x2F;&#x2F; Check if the caret is in the middle of a text node
					if (container.nodeType == 3 &amp;&amp; (backspace ? offset &gt; 0 : offset &lt; container.nodeValue.length)) {
						return true;
					}

					&#x2F;&#x2F; Resolve container index
					if (container.nodeType == 1) {
						container = container.childNodes[offset] || container;
					}

					&#x2F;&#x2F; Check if previous or next tree node is non editable then block the event
					if (isNextPrevTreeNodeNonEditable()) {
						return false;
					}
				}

				return true;
			}

			startElement = selection.getStart()
			endElement = selection.getEnd();

			&#x2F;&#x2F; Disable all key presses in contentEditable=false except delete or backspace
			nonEditableParent = getNonEditableParent(startElement) || getNonEditableParent(endElement);
			if (nonEditableParent &amp;&amp; (keyCode &lt; 112 || keyCode &gt; 124) &amp;&amp; keyCode != VK.DELETE &amp;&amp; keyCode != VK.BACKSPACE) {
				&#x2F;&#x2F; Is Ctrl+c, Ctrl+v or Ctrl+x then use default browser behavior
				if ((tinymce.isMac ? e.metaKey : e.ctrlKey) &amp;&amp; (keyCode == 67 || keyCode == 88 || keyCode == 86)) {
					return;
				}

				e.preventDefault();

				&#x2F;&#x2F; Arrow left&#x2F;right select the element and collapse left&#x2F;right
				if (keyCode == VK.LEFT || keyCode == VK.RIGHT) {
					var left = keyCode == VK.LEFT;
					&#x2F;&#x2F; If a block element find previous or next element to position the caret
					if (ed.dom.isBlock(nonEditableParent)) {
						var targetElement = left ? nonEditableParent.previousSibling : nonEditableParent.nextSibling;
						var walker = new TreeWalker(targetElement, targetElement);
						var caretElement = left ? walker.prev() : walker.next();
						positionCaretOnElement(caretElement, !left);
					} else {
						positionCaretOnElement(nonEditableParent, left);
					}
				}
			} else {
				&#x2F;&#x2F; Is arrow left&#x2F;right, backspace or delete
				if (keyCode == VK.LEFT || keyCode == VK.RIGHT || keyCode == VK.BACKSPACE || keyCode == VK.DELETE) {
					caretContainer = getParentCaretContainer(startElement);
					if (caretContainer) {
						&#x2F;&#x2F; Arrow left or backspace
						if (keyCode == VK.LEFT || keyCode == VK.BACKSPACE) {
							nonEditableParent = getNonEmptyTextNodeSibling(caretContainer, true);

							if (nonEditableParent &amp;&amp; getContentEditable(nonEditableParent) === &quot;false&quot;) {
								e.preventDefault();

								if (keyCode == VK.LEFT) {
									positionCaretOnElement(nonEditableParent, true);
								} else {
									dom.remove(nonEditableParent);
									return;
								}
							} else {
								removeCaretContainer(caretContainer);
							}
						}

						&#x2F;&#x2F; Arrow right or delete
						if (keyCode == VK.RIGHT || keyCode == VK.DELETE) {
							nonEditableParent = getNonEmptyTextNodeSibling(caretContainer);

							if (nonEditableParent &amp;&amp; getContentEditable(nonEditableParent) === &quot;false&quot;) {
								e.preventDefault();

								if (keyCode == VK.RIGHT) {
									positionCaretOnElement(nonEditableParent, false);
								} else {
									dom.remove(nonEditableParent);
									return;
								}
							} else {
								removeCaretContainer(caretContainer);
							}
						}
					}

					if ((keyCode == VK.BACKSPACE || keyCode == VK.DELETE) &amp;&amp; !canDelete(keyCode == VK.BACKSPACE)) {
						e.preventDefault();
						return false;
					}
				}
			}
		};

		ed.onMouseDown.addToTop(function(ed, e) {
			var node = ed.selection.getNode();

			if (getContentEditable(node) === &quot;false&quot; &amp;&amp; node == e.target) {
				&#x2F;&#x2F; Expand selection on mouse down we can&#x27;t block the default event since it&#x27;s used for drag&#x2F;drop
				moveSelection();
			}
		});

		ed.onMouseUp.addToTop(moveSelection);
		ed.onKeyDown.addToTop(handleKey);
		ed.onKeyUp.addToTop(moveSelection);
	};

	tinymce.create(&#x27;tinymce.plugins.NonEditablePlugin&#x27;, {
		init : function(ed, url) {
			var editClass, nonEditClass, nonEditableRegExps;

			&#x2F;&#x2F; Converts configured regexps to noneditable span items
			function convertRegExpsToNonEditable(ed, args) {
				var i = nonEditableRegExps.length, content = args.content, cls = tinymce.trim(nonEditClass);

				&#x2F;&#x2F; Don&#x27;t replace the variables when raw is used for example on undo&#x2F;redo
				if (args.format == &quot;raw&quot;) {
					return;
				}

				while (i--) {
					content = content.replace(nonEditableRegExps[i], function(match) {
						var args = arguments, index = args[args.length - 2];

						&#x2F;&#x2F; Is value inside an attribute then don&#x27;t replace
						if (index &gt; 0 &amp;&amp; content.charAt(index - 1) == &#x27;&quot;&#x27;) {
							return match;
						}

						return &#x27;&lt;span class=&quot;&#x27; + cls + &#x27;&quot; data-mce-content=&quot;&#x27; + ed.dom.encode(args[0]) + &#x27;&quot;&gt;&#x27; + ed.dom.encode(typeof(args[1]) === &quot;string&quot; ? args[1] : args[0]) + &#x27;&lt;&#x2F;span&gt;&#x27;;
					});
				}

				args.content = content;
			};
			
			editClass = &quot; &quot; + tinymce.trim(ed.getParam(&quot;noneditable_editable_class&quot;, &quot;mceEditable&quot;)) + &quot; &quot;;
			nonEditClass = &quot; &quot; + tinymce.trim(ed.getParam(&quot;noneditable_noneditable_class&quot;, &quot;mceNonEditable&quot;)) + &quot; &quot;;

			&#x2F;&#x2F; Setup noneditable regexps array
			nonEditableRegExps = ed.getParam(&quot;noneditable_regexp&quot;);
			if (nonEditableRegExps &amp;&amp; !nonEditableRegExps.length) {
				nonEditableRegExps = [nonEditableRegExps];
			}

			ed.onPreInit.add(function() {
				handleContentEditableSelection(ed);

				if (nonEditableRegExps) {
					ed.selection.onBeforeSetContent.add(convertRegExpsToNonEditable);
					ed.onBeforeSetContent.add(convertRegExpsToNonEditable);
				}

				&#x2F;&#x2F; Apply contentEditable true&#x2F;false on elements with the noneditable&#x2F;editable classes
				ed.parser.addAttributeFilter(&#x27;class&#x27;, function(nodes) {
					var i = nodes.length, className, node;

					while (i--) {
						node = nodes[i];
						className = &quot; &quot; + node.attr(&quot;class&quot;) + &quot; &quot;;

						if (className.indexOf(editClass) !== -1) {
							node.attr(internalName, &quot;true&quot;);
						} else if (className.indexOf(nonEditClass) !== -1) {
							node.attr(internalName, &quot;false&quot;);
						}
					}
				});

				&#x2F;&#x2F; Remove internal name
				ed.serializer.addAttributeFilter(internalName, function(nodes, name) {
					var i = nodes.length, node;

					while (i--) {
						node = nodes[i];

						if (nonEditableRegExps &amp;&amp; node.attr(&#x27;data-mce-content&#x27;)) {
							node.name = &quot;#text&quot;;
							node.type = 3;
							node.raw = true;
							node.value = node.attr(&#x27;data-mce-content&#x27;);
						} else {
							node.attr(externalName, null);
							node.attr(internalName, null);
						}
					}
				});

				&#x2F;&#x2F; Convert external name into internal name
				ed.parser.addAttributeFilter(externalName, function(nodes, name) {
					var i = nodes.length, node;

					while (i--) {
						node = nodes[i];
						node.attr(internalName, node.attr(externalName));
						node.attr(externalName, null);
					}
				});
			});
		},

		getInfo : function() {
			return {
				longname : &#x27;Non editable elements&#x27;,
				author : &#x27;Moxiecode Systems AB&#x27;,
				authorurl : &#x27;http:&#x2F;&#x2F;tinymce.moxiecode.com&#x27;,
				infourl : &#x27;http:&#x2F;&#x2F;wiki.moxiecode.com&#x2F;index.php&#x2F;TinyMCE:Plugins&#x2F;noneditable&#x27;,
				version : tinymce.majorVersion + &quot;.&quot; + tinymce.minorVersion
			};
		}
	});

	&#x2F;&#x2F; Register plugin
	tinymce.PluginManager.add(&#x27;noneditable&#x27;, tinymce.plugins.NonEditablePlugin);
})();
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
