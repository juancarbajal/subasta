<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>libs&#x2F;plugins&#x2F;tiny_mce&#x2F;plugins&#x2F;fullscreen&#x2F;editor_plugin_src.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/admin.html">admin</a></li>
            
                <li><a href="..&#x2F;classes/all-modules.html">all-modules</a></li>
            
                <li><a href="..&#x2F;classes/default.html">default</a></li>
            
                <li><a href="..&#x2F;classes/jcarousel.html">jcarousel</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.AutoSave.html">tinymce.plugins.AutoSave</a></li>
            
                <li><a href="..&#x2F;classes/tinymce.plugins.ContextMenu.html">tinymce.plugins.ContextMenu</a></li>
            
                <li><a href="..&#x2F;classes/usuario.html">usuario</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/ad-actions.html">ad-actions</a></li>
            
                <li><a href="..&#x2F;modules/add-class-middle.html">add-class-middle</a></li>
            
                <li><a href="..&#x2F;modules/add-favorites.html">add-favorites</a></li>
            
                <li><a href="..&#x2F;modules/all-checked-uncheked.html">all-checked-uncheked</a></li>
            
                <li><a href="..&#x2F;modules/banner-top classified.html">banner-top classified</a></li>
            
                <li><a href="..&#x2F;modules/carousel-products.html">carousel-products</a></li>
            
                <li><a href="..&#x2F;modules/count-word.html">count-word</a></li>
            
                <li><a href="..&#x2F;modules/data-ubigeo.html">data-ubigeo</a></li>
            
                <li><a href="..&#x2F;modules/geotags.html">geotags</a></li>
            
                <li><a href="..&#x2F;modules/impress-ad-list.html">impress-ad-list</a></li>
            
                <li><a href="..&#x2F;modules/lightbox-logIn-signUp.html">lightbox-logIn-signUp</a></li>
            
                <li><a href="..&#x2F;modules/moduleName.html">moduleName</a></li>
            
                <li><a href="..&#x2F;modules/placeholder.html">placeholder</a></li>
            
                <li><a href="..&#x2F;modules/preview-impress.html">preview-impress</a></li>
            
                <li><a href="..&#x2F;modules/register-category.html">register-category</a></li>
            
                <li><a href="..&#x2F;modules/remove-class-home.html">remove-class-home</a></li>
            
                <li><a href="..&#x2F;modules/report-ad.html">report-ad</a></li>
            
                <li><a href="..&#x2F;modules/scrollTop.html">scrollTop</a></li>
            
                <li><a href="..&#x2F;modules/search-categories.html">search-categories</a></li>
            
                <li><a href="..&#x2F;modules/send-ad-friend.html">send-ad-friend</a></li>
            
                <li><a href="..&#x2F;modules/send-list-ad-email.html">send-list-ad-email</a></li>
            
                <li><a href="..&#x2F;modules/show-advanced-search.html">show-advanced-search</a></li>
            
                <li><a href="..&#x2F;modules/show-example-ads.html">show-example-ads</a></li>
            
                <li><a href="..&#x2F;modules/show-login-trigger.html">show-login-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-photo-products.html">show-photo-products</a></li>
            
                <li><a href="..&#x2F;modules/show-popup.html">show-popup</a></li>
            
                <li><a href="..&#x2F;modules/show-questions.html">show-questions</a></li>
            
                <li><a href="..&#x2F;modules/show-register-trigger.html">show-register-trigger</a></li>
            
                <li><a href="..&#x2F;modules/show-video.html">show-video</a></li>
            
                <li><a href="..&#x2F;modules/showMoreCategories.html">showMoreCategories</a></li>
            
                <li><a href="..&#x2F;modules/some-module4.html">some-module4</a></li>
            
                <li><a href="..&#x2F;modules/tinymce-register.html">tinymce-register</a></li>
            
                <li><a href="..&#x2F;modules/uploader-photos.html">uploader-photos</a></li>
            
                <li><a href="..&#x2F;modules/validate.html">validate</a></li>
            
                <li><a href="..&#x2F;modules/validate-document.html">validate-document</a></li>
            
                <li><a href="..&#x2F;modules/validate-image.html">validate-image</a></li>
            
                <li><a href="..&#x2F;modules/venta.html">venta</a></li>
            
                <li><a href="..&#x2F;modules/yOSON.html">yOSON</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: libs&#x2F;plugins&#x2F;tiny_mce&#x2F;plugins&#x2F;fullscreen&#x2F;editor_plugin_src.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 * editor_plugin_src.js
 *
 * Copyright 2009, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http:&#x2F;&#x2F;tinymce.moxiecode.com&#x2F;license
 * Contributing: http:&#x2F;&#x2F;tinymce.moxiecode.com&#x2F;contributing
 *&#x2F;

(function() {
	var DOM = tinymce.DOM;

	tinymce.create(&#x27;tinymce.plugins.FullScreenPlugin&#x27;, {
		init : function(ed, url) {
			var t = this, s = {}, vp, posCss;

			t.editor = ed;

			&#x2F;&#x2F; Register commands
			ed.addCommand(&#x27;mceFullScreen&#x27;, function() {
				var win, de = DOM.doc.documentElement;

				if (ed.getParam(&#x27;fullscreen_is_enabled&#x27;)) {
					if (ed.getParam(&#x27;fullscreen_new_window&#x27;))
						closeFullscreen(); &#x2F;&#x2F; Call to close in new window
					else {
						DOM.win.setTimeout(function() {
							tinymce.dom.Event.remove(DOM.win, &#x27;resize&#x27;, t.resizeFunc);
							tinyMCE.get(ed.getParam(&#x27;fullscreen_editor_id&#x27;)).setContent(ed.getContent());
							tinyMCE.remove(ed);
							DOM.remove(&#x27;mce_fullscreen_container&#x27;);
							de.style.overflow = ed.getParam(&#x27;fullscreen_html_overflow&#x27;);
							DOM.setStyle(DOM.doc.body, &#x27;overflow&#x27;, ed.getParam(&#x27;fullscreen_overflow&#x27;));
							DOM.win.scrollTo(ed.getParam(&#x27;fullscreen_scrollx&#x27;), ed.getParam(&#x27;fullscreen_scrolly&#x27;));
							tinyMCE.settings = tinyMCE.oldSettings; &#x2F;&#x2F; Restore old settings
						}, 10);
					}

					return;
				}

				if (ed.getParam(&#x27;fullscreen_new_window&#x27;)) {
					win = DOM.win.open(url + &quot;&#x2F;fullscreen.htm&quot;, &quot;mceFullScreenPopup&quot;, &quot;fullscreen=yes,menubar=no,toolbar=no,scrollbars=no,resizable=yes,left=0,top=0,width=&quot; + screen.availWidth + &quot;,height=&quot; + screen.availHeight);
					try {
						win.resizeTo(screen.availWidth, screen.availHeight);
					} catch (e) {
						&#x2F;&#x2F; Ignore
					}
				} else {
					tinyMCE.oldSettings = tinyMCE.settings; &#x2F;&#x2F; Store old settings
					s.fullscreen_overflow = DOM.getStyle(DOM.doc.body, &#x27;overflow&#x27;, 1) || &#x27;auto&#x27;;
					s.fullscreen_html_overflow = DOM.getStyle(de, &#x27;overflow&#x27;, 1);
					vp = DOM.getViewPort();
					s.fullscreen_scrollx = vp.x;
					s.fullscreen_scrolly = vp.y;

					&#x2F;&#x2F; Fixes an Opera bug where the scrollbars doesn&#x27;t reappear
					if (tinymce.isOpera &amp;&amp; s.fullscreen_overflow == &#x27;visible&#x27;)
						s.fullscreen_overflow = &#x27;auto&#x27;;

					&#x2F;&#x2F; Fixes an IE bug where horizontal scrollbars would appear
					if (tinymce.isIE &amp;&amp; s.fullscreen_overflow == &#x27;scroll&#x27;)
						s.fullscreen_overflow = &#x27;auto&#x27;;

					&#x2F;&#x2F; Fixes an IE bug where the scrollbars doesn&#x27;t reappear
					if (tinymce.isIE &amp;&amp; (s.fullscreen_html_overflow == &#x27;visible&#x27; || s.fullscreen_html_overflow == &#x27;scroll&#x27;))
						s.fullscreen_html_overflow = &#x27;auto&#x27;;

					if (s.fullscreen_overflow == &#x27;0px&#x27;)
						s.fullscreen_overflow = &#x27;&#x27;;

					DOM.setStyle(DOM.doc.body, &#x27;overflow&#x27;, &#x27;hidden&#x27;);
					de.style.overflow = &#x27;hidden&#x27;; &#x2F;&#x2F;Fix for IE6&#x2F;7
					vp = DOM.getViewPort();
					DOM.win.scrollTo(0, 0);

					if (tinymce.isIE)
						vp.h -= 1;

					&#x2F;&#x2F; Use fixed position if it exists
					if (tinymce.isIE6 || document.compatMode == &#x27;BackCompat&#x27;)
						posCss = &#x27;absolute;top:&#x27; + vp.y;
					else
						posCss = &#x27;fixed;top:0&#x27;;

					n = DOM.add(DOM.doc.body, &#x27;div&#x27;, {
						id : &#x27;mce_fullscreen_container&#x27;,
						style : &#x27;position:&#x27; + posCss + &#x27;;left:0;width:&#x27; + vp.w + &#x27;px;height:&#x27; + vp.h + &#x27;px;z-index:200000;&#x27;});
					DOM.add(n, &#x27;div&#x27;, {id : &#x27;mce_fullscreen&#x27;});

					tinymce.each(ed.settings, function(v, n) {
						s[n] = v;
					});

					s.id = &#x27;mce_fullscreen&#x27;;
					s.width = n.clientWidth;
					s.height = n.clientHeight - 15;
					s.fullscreen_is_enabled = true;
					s.fullscreen_editor_id = ed.id;
					s.theme_advanced_resizing = false;
					s.save_onsavecallback = function() {
						ed.setContent(tinyMCE.get(s.id).getContent());
						ed.execCommand(&#x27;mceSave&#x27;);
					};

					tinymce.each(ed.getParam(&#x27;fullscreen_settings&#x27;), function(v, k) {
						s[k] = v;
					});

					if (s.theme_advanced_toolbar_location === &#x27;external&#x27;)
						s.theme_advanced_toolbar_location = &#x27;top&#x27;;

					t.fullscreenEditor = new tinymce.Editor(&#x27;mce_fullscreen&#x27;, s);
					t.fullscreenEditor.onInit.add(function() {
						t.fullscreenEditor.setContent(ed.getContent());
						t.fullscreenEditor.focus();
					});

					t.fullscreenEditor.render();

					t.fullscreenElement = new tinymce.dom.Element(&#x27;mce_fullscreen_container&#x27;);
					t.fullscreenElement.update();
					&#x2F;&#x2F;document.body.overflow = &#x27;hidden&#x27;;

					t.resizeFunc = tinymce.dom.Event.add(DOM.win, &#x27;resize&#x27;, function() {
						var vp = tinymce.DOM.getViewPort(), fed = t.fullscreenEditor, outerSize, innerSize;

						&#x2F;&#x2F; Get outer&#x2F;inner size to get a delta size that can be used to calc the new iframe size
						outerSize = fed.dom.getSize(fed.getContainer().getElementsByTagName(&#x27;table&#x27;)[0]);
						innerSize = fed.dom.getSize(fed.getContainer().getElementsByTagName(&#x27;iframe&#x27;)[0]);

						fed.theme.resizeTo(vp.w - outerSize.w + innerSize.w, vp.h - outerSize.h + innerSize.h);
					});
				}
			});

			&#x2F;&#x2F; Register buttons
			ed.addButton(&#x27;fullscreen&#x27;, {title : &#x27;fullscreen.desc&#x27;, cmd : &#x27;mceFullScreen&#x27;});

			ed.onNodeChange.add(function(ed, cm) {
				cm.setActive(&#x27;fullscreen&#x27;, ed.getParam(&#x27;fullscreen_is_enabled&#x27;));
			});
		},

		getInfo : function() {
			return {
				longname : &#x27;Fullscreen&#x27;,
				author : &#x27;Moxiecode Systems AB&#x27;,
				authorurl : &#x27;http:&#x2F;&#x2F;tinymce.moxiecode.com&#x27;,
				infourl : &#x27;http:&#x2F;&#x2F;wiki.moxiecode.com&#x2F;index.php&#x2F;TinyMCE:Plugins&#x2F;fullscreen&#x27;,
				version : tinymce.majorVersion + &quot;.&quot; + tinymce.minorVersion
			};
		}
	});

	&#x2F;&#x2F; Register plugin
	tinymce.PluginManager.add(&#x27;fullscreen&#x27;, tinymce.plugins.FullScreenPlugin);
})();

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
